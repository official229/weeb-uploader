import{f as P,a as F,c as he}from"../chunks/CQxq1ieJ.js";import{x as H,D as n,B as a,C as t,z as L,A as M,g as e,s as N,a as v,aI as ae,y as oe,c as Le,p as se,u as te,al as pe,aH as W,aa as Se}from"../chunks/BZUToVjJ.js";import{d as Y,s as q,e as ge}from"../chunks/DEaBZRl3.js";import{p as V,b as fe,i as j}from"../chunks/CkX9i_MO.js";import{r as Z,s as ie,a as qe}from"../chunks/3O-sVx36.js";import{h as B,u as je,a as ee,e as re,i as ne,j as Oe,v as J,s as $,C as Ee,n as Ve,o as Ue,m as Ie,l as ce,k as ve,p as He,b as Me,t as Be,w as Ke,r as We}from"../chunks/CMoFgIPg.js";import{o as Ye}from"../chunks/DmMYvaIo.js";import{a as _e,A as Xe}from"../chunks/CgRTKKj8.js";import{r as Je}from"../chunks/CMmvt8tH.js";const Qe=!0,Ca=Object.freeze(Object.defineProperty({__proto__:null,prerender:Qe},Symbol.toStringTag,{value:"Module"}));var Ze=P('<button><h1 class="uno-zztv9w">Folder Selector</h1> <input class="uno-rcrjh3" type="file"/></button>');function $e(R,o){H(o,!0);let d=V(o,"selectedFiles",15,null),x=V(o,"class",3,""),s=N(null);const m=["image/jpeg","image/jpg","image/png","image/gif","image/webp","application/zip"],i=["jpg","jpeg","png","gif","webp","cbz"];function p(D){const G=D.target,T=Array.from(G.files??[]).filter(w=>{const u=w.name.split(".").pop()?.toLowerCase(),h=w.type;return i.includes(u??"")&&m.includes(h)});d(T),o.onDone()}function S(D){e(s)?.click()}var k=Ze();k.__click=S;var A=n(a(k),2);A.webkitdirectory=!0,A.multiple=!0,A.__change=p,fe(A,D=>v(s,D),()=>e(s)),t(k),L(()=>B(k,1,`uno-isxz09 ${x()??""}`)),F(R,k),M()}Y(["click","change"]);var et=P('<div class="uno-s7xk7x"><p>API access validated successfully</p> <button class="uno-agpg8z" type="button">Reset Token</button></div>'),tt=P('<p class="uno-j39fws"> </p>'),at=P("<p>Validating...</p>"),rt=P(`<p>Enter your API token to validate your access to the WeebDex API. You can find this token by
			opening up the developer tools (F12 on keyboard) in your browser and navigating to the
			"Network" tab. Then, refresh the page and click on the "XHR" tab within the "Network" tab. You
			will see a list of requests. Clicking on one should open up a panel with the request details.
			Click on the "Cookies" tab within the request details panel (note that not all requests have
			cookies, the /check request will have one though). You will see a a cookie called
			"ory_kratos_session". That is your API token.</p> <p class="uno-umzgx8">If you're having trouble, click on the "Tutorial & Docs" link at the top of the page.</p> <div class="uno-bw7us0"><label for="api-token-input">API Token:</label> <input id="api-token-input" type="text" placeholder="Enter your API token" class="uno-c81j71"/></div> <button class="uno-agpg8z" type="button">Validate API Access</button> <!> <!>`,1),nt=P('<div class="uno-cl1jge"><h2 class="uno-awi76q">API Authentication</h2> <!></div>');function ot(R,o){H(o,!0);const d="weebdex_api_token",x="https://api.weebdex.org/upload/check-approval-required",s=ae(_e);if(!s)throw new Error("TargetingAuthValidator must be used within a component that provides ApiAuthContext context");let m=N(""),i=N(!1),p=N(!1),S=N(null);Ye(()=>{if(typeof window<"u"){const u=sessionStorage.getItem(d);u&&(s.apiToken=u)}s.apiToken&&A(s.apiToken)});function k(u){s.apiToken=u,typeof window<"u"&&(u?sessionStorage.setItem(d,u):sessionStorage.removeItem(d))}async function A(u){if(!u){v(S,"Please enter an API token");return}v(p,!0),v(S,null);try{const h=await je.post(x,{language:"en"},{headers:{Authorization:`Bearer ${u}`}});h.status===204?(k(u),v(i,!0),v(S,null)):h.status===200?(v(S,"You do not yet have any uploaded chapters. Please manually upload your first chapter and wait for approval"),k(null),v(i,!1)):(v(S,`Validation failed: ${h.status} ${h.statusText}`),k(null),v(i,!1))}catch(h){v(S,h instanceof Error?h.message:"Failed to validate API access",!0),k(null),v(i,!1)}finally{v(p,!1)}}function D(){k(null),v(m,""),v(S,null),v(i,!1)}var G=nt(),z=n(a(G),2);{var T=u=>{var h=et(),_=n(a(h),2);_.__click=D,t(h),L(()=>_.disabled=e(p)),F(u,h)},w=u=>{var h=rt(),_=n(oe(h),4),I=n(a(_),2);Z(I),t(_);var E=n(_,2);E.__click=()=>A(e(m).trim());var y=n(E,2);{var b=g=>{var r=tt(),l=a(r,!0);t(r),L(()=>q(l,e(S))),F(g,r)};j(y,g=>{e(S)&&g(b)})}var c=n(y,2);{var f=g=>{var r=at();F(g,r)};j(c,g=>{e(p)&&g(f)})}L(()=>{I.disabled=e(p),E.disabled=e(p)}),ee(I,()=>e(m),g=>v(m,g)),F(u,h)};j(z,u=>{e(i)===!0?u(T):u(w,!1)})}t(G),F(R,G),M()}Y(["click"]);class st{#e=N(null);get seriesId(){return e(this.#e)}set seriesId(o){v(this.#e,o,!0)}#t=N(se([]));get chapterStates(){return e(this.#t)}set chapterStates(o){v(this.#t,o,!0)}#a=N(se([]));get availableScanGroups(){return e(this.#a)}set availableScanGroups(o){v(this.#a,o,!0)}reset(){this.seriesId=null,this.chapterStates=[],this.availableScanGroups=[]}}const le=Le();var it=P('<p class="uno-jsumkz"> </p>'),lt=P("<p>Validating...</p>"),ut=P('<div class="uno-c934cy"><div class="uno-dtn9ds"><p class="uno-nufk6r"> </p> <p class="uno-ueqdwj"> </p></div> <button type="button" class="uno-yltzkr" aria-label="Remove" title="Remove"><div class="uno-s3068n"></div></button></div>'),dt=P('<div class="uno-dkzd2u"></div>'),ct=P('<div class="uno-kktp2u"><div class="uno-xmve1n"><div class="uno-dtn9ds"><label for="group-id-input" class="uno-3023mb">Group ID:</label> <input class="uno-p1twp2" id="group-id-input" type="text" placeholder="Enter group ID"/></div> <button class="uno-mx7466" type="button">Add Group</button> <!> <!> <!></div></div>');function vt(R,o){H(o,!0);const d="https://api.weebdex.org/group",x=ae(_e);if(!x)throw new Error("TargetingGroupValidator must be used within a component that provides ApiAuthContext context");const s=ae(le);if(!s)throw new Error("TargetingGroupValidator must be used within a component that provides TargetingState context");let m=N(""),i=N(!1),p=N(null),S=N(null);function k(c,f){if(s.availableScanGroups.find(r=>r.groupId===c))return;const g=new Oe;g.groupId=c,g.groupName=f,s.availableScanGroups=[...s.availableScanGroups,g]}function A(c){s.availableScanGroups=s.availableScanGroups.filter(f=>f.groupId!==c)}async function D(){if(!e(m).trim()){v(p,"Please enter a group ID");return}const c=x.apiToken;if(!c){v(p,"No API token found");return}v(i,!0),v(p,null);try{const f=`${d}/${e(m).trim()}`,g=await fetch(f,{headers:{Authorization:`Bearer ${c}`}});if(g.ok){const r=await g.json();v(S,r,!0),k(e(m).trim(),r.name),v(p,null)}else v(p,`Failed to validate series: ${g.status} ${g.statusText}`)}catch(f){v(p,f instanceof Error?f.message:"Failed to validate series",!0)}finally{v(i,!1)}}var G=ct(),z=a(G),T=a(z),w=n(a(T),2);Z(w),t(T);var u=n(T,2);u.__click=D;var h=n(u,2);{var _=c=>{var f=it(),g=a(f,!0);t(f),L(()=>q(g,e(p))),F(c,f)};j(h,c=>{e(p)&&c(_)})}var I=n(h,2);{var E=c=>{var f=lt();F(c,f)};j(I,c=>{e(i)&&c(E)})}var y=n(I,2);{var b=c=>{var f=dt();re(f,21,()=>s.availableScanGroups,ne,(g,r)=>{var l=ut(),C=a(l),O=a(C),K=a(O,!0);t(O);var Q=n(O,2),U=a(Q,!0);t(Q),t(C);var X=n(C,2);X.__click=()=>A(e(r).groupId),t(l),L(()=>{q(K,e(r).groupId),q(U,e(r).groupName)}),F(g,l)}),t(f),F(c,f)};j(y,c=>{s.availableScanGroups.length>0&&c(b)})}t(z),t(G),L(()=>{w.disabled=e(i),u.disabled=e(i)}),ee(w,()=>e(m),c=>v(m,c)),F(R,G),M()}Y(["click"]);var pt=P('<img class="uno-o1ntag"/>'),ft=P('<div class="uno-y8jpyz"></div>'),ht=P('<div class="uno-tnzl6v"><div class="uno-n01etu"><span class="uno-zf2o34"></span> <h3 class="uno-rhig3g">Series Validated</h3> <button type="button" class="uno-ud6b9j" aria-label="Reset" title="Reset"><div class="uno-clq4s3"></div></button></div> <div class="uno-ezwszi"><!> <div class="uno-6c4rms"><p class="uno-ilgum7"> </p> <p class="uno-ilgum7"> </p> <p class="uno-pcayy7"> </p></div></div></div>'),gt=P('<p class="uno-knbjyn"> </p>'),_t=P("<p>Validating...</p>"),mt=P('<div class="uno-tnzl6v"><div class="uno-n01etu"><label for="series-id-input" class="uno-y9ohjj">Series ID:</label> <input class="uno-4ts93o" id="series-id-input" type="text" placeholder="Enter series ID"/></div> <button class="uno-0kadng" type="button">Validate</button></div> <!> <!>',1),bt=P('<div class="uno-6c4rms"><!></div>');function wt(R,o){H(o,!0);const d="https://api.weebdex.org/manga",x=ae(_e);if(!x)throw new Error("TargetingSeriesValidator must be used within a component that provides ApiAuthContext context");const s=ae(le);if(!s)throw new Error("TargetingSeriesValidator must be used within a component that provides TargetingState context");let m=N(""),i=N(!1),p=N(null),S=N(null);function k(h){s.seriesId=h}function A(){return!e(S)?.relationships?.cover?.id||!s.seriesId?null:`https://srv.notdelta.xyz/covers/${s.seriesId}/${e(S).relationships.cover.id}.256.webp`}function D(){v(m,""),s.seriesId=null,v(S,null),v(p,null)}async function G(){if(!e(m).trim()){v(p,"Please enter a series ID");return}const h=x.apiToken;if(!h){v(p,"No API token found");return}v(i,!0),v(p,null);try{const _=`${d}/${e(m).trim()}`,I=await fetch(_,{headers:{Authorization:`Bearer ${h}`}});if(I.ok){const E=await I.json();v(S,E,!0),k(e(m).trim()),v(p,null)}else v(p,`Failed to validate series: ${I.status} ${I.statusText}`)}catch(_){v(p,_ instanceof Error?_.message:"Failed to validate series",!0)}finally{v(i,!1)}}var z=bt(),T=a(z);{var w=h=>{var _=ht(),I=a(_),E=n(a(I),4);E.__click=D,t(I);var y=n(I,2),b=a(y);{var c=U=>{var X=pt();L(be=>{ie(X,"src",be),ie(X,"alt",e(S).title??"Cover")},[A]),F(U,X)},f=U=>{var X=ft();F(U,X)};j(b,U=>{A()?U(c):U(f,!1)})}var g=n(b,2),r=a(g),l=a(r);t(r);var C=n(r,2),O=a(C,!0);t(C);var K=n(C,2),Q=a(K,!0);t(K),t(g),t(y),t(_),L(()=>{q(l,`ID: ${e(S).id??""}`),q(O,e(S).title),q(Q,e(S).description)}),F(h,_)},u=h=>{var _=mt(),I=oe(_),E=a(I),y=n(a(E),2);Z(y),t(E);var b=n(E,2);b.__click=G,t(I);var c=n(I,2);{var f=l=>{var C=gt(),O=a(C,!0);t(C),L(()=>q(O,e(p))),F(l,C)};j(c,l=>{e(p)&&l(f)})}var g=n(c,2);{var r=l=>{var C=_t();F(l,C)};j(g,l=>{e(i)&&l(r)})}L(()=>{y.disabled=e(i),b.disabled=e(i)}),ee(y,()=>e(m),l=>v(m,l)),F(h,_)};j(T,h=>{e(S)?h(w):h(u,!1)})}t(z),F(R,z),M()}Y(["click"]);var xt=P('<form class="uno-7r54da"><input type="text" class="uno-r904ou"/> <button type="button" aria-label="Cancel" class="uno-b243vf"><div class="uno-c68bgq"></div></button> <button type="submit" aria-label="Save" class="uno-97zll7"><div class="uno-4ecae6"></div></button></form>'),yt=P("<button> </button>"),St=P("<div><!></div>");function xe(R,o){H(o,!0);let d=V(o,"value",15,null),x=V(o,"class",3,""),s=V(o,"textClass",3,""),m=N(!1),i=N(null),p=N(null);function S(){v(m,!0),v(i,d(),!0)}te(()=>{e(p)&&e(m)?(e(p).focus(),window.addEventListener("keydown",A)):window.removeEventListener("keydown",A)});function k(w){v(m,!1),w?d(e(i)):v(i,d(),!0)}function A(w){w.key==="Escape"&&k(!1)}var D=St();D.__click=w=>w.stopPropagation();var G=a(D);{var z=w=>{var u=xt(),h=a(u);Z(h),fe(h,I=>v(p,I),()=>e(p));var _=n(h,2);_.__click=I=>{I.stopPropagation(),k(!1)},pe(2),t(u),ge("submit",u,I=>{I.preventDefault(),k(!0)}),ee(h,()=>e(i),I=>v(i,I)),F(w,u)},T=w=>{var u=yt();u.__click=_=>{_.stopPropagation(),S()};var h=a(u,!0);t(u),L(()=>{B(u,1,J(["uno-sic380",s()])),q(h,d()??"â€”")}),F(w,u)};j(G,w=>{e(m)?w(z):w(T,!1)})}t(D),L(()=>B(D,1,J(["uno-6gjgox",x()]))),F(R,D),M()}Y(["click"]);var It=P('<div class="uno-wh6kcz"><span class="uno-6atr7t">Page deleted</span></div>'),kt=P('<button aria-label="Delete page" class="uno-fw13ps"><div class="uno-hcwd2d"></div></button>'),Et=P('<button aria-label="Restore page" class="uno-1fuir8"><div class="uno-60j01b"></div></button>'),Ft=P('<div class="uno-ezvmq6"><img class="uno-nxxp44"/> <!> <div class="uno-mb41n8"><span class="uno-6atr7t"> </span></div> <!></div>'),Pt=P('<div class="uno-2sw5oq"></div>');function Ct(R,o){H(o,!0);let d=V(o,"pages",31,()=>se([]));function x(p){return URL.createObjectURL(p)}function s(p){d(d()[p].isDeleted=!0,!0)}function m(p){d(d()[p].isDeleted=!1,!0)}var i=Pt();re(i,21,d,ne,(p,S,k)=>{var A=Ft(),D=a(A),G=n(D,2);{var z=E=>{var y=It();F(E,y)};j(G,E=>{e(S).isDeleted&&E(z)})}var T=n(G,2),w=a(T),u=a(w,!0);t(w),t(T);var h=n(T,2);{var _=E=>{var y=kt();y.__click=()=>s(k),F(E,y)},I=E=>{var y=Et();y.__click=()=>m(k),F(E,y)};j(h,E=>{e(S).isDeleted?E(I,!1):E(_)})}t(A),L(E=>{ie(D,"src",E),ie(D,"alt",e(S).pageName),q(u,e(S).pageName)},[()=>x(e(S).pageFile)]),F(p,A)}),t(i),F(R,i),M()}Y(["click"]);var Dt=P('<div class="uno-w4rn8f svelte-ytt77r"></div>'),Tt=P('<label><input type="checkbox" class="uno-lkj0p3 svelte-ytt77r"/> <span class="uno-k7w3dy svelte-ytt77r"> </span></label>'),At=P('<div class="uno-1z9k0s svelte-ytt77r">No items available</div>'),Nt=P('<div role="presentation"><div class="uno-f4km04 svelte-ytt77r"><button type="button"><span class="svelte-ytt77r">Clear Selection</span></button> <!> <!> <!></div></div>');function zt(R,o){H(o,!0);let d=V(o,"selectedItems",15,null),x=V(o,"isOpen",15,!0),s=V(o,"class",3,""),m=N(null),i=N(null);function p(){if(!o.buttonRect)return;const w=o.buttonRect,u=window.innerHeight,h=window.innerWidth,_=4,I=256;let E=I;if(e(m)){const l=e(m).getBoundingClientRect().height;E=Math.min(l,I)}const y=u-w.bottom-_,b=w.top-_,c=y<I&&b>y;let f;c?(f=w.top-E-_,f<_&&(f=_)):(f=w.bottom+_,f+E>u&&(f=Math.max(_,u-E-_)));let g=w.left;const r=256;g+r>h&&(g=h-r-_,g<_&&(g=_)),v(i,{top:f,left:g,width:Math.max(w.width,r)},!0)}te(()=>{d()===null&&d([])});function S(w){d()===null&&d([]),d().findIndex(h=>h.groupId===w.groupId)>=0?d(d().filter(h=>h.groupId!==w.groupId)):d([...d(),w])}function k(w){return d()===null?!1:d().some(u=>u.groupId===w.groupId)}function A(){d([])}te(()=>{if(x()){if(!o.buttonRect){v(i,null);return}requestAnimationFrame(()=>{requestAnimationFrame(()=>{p()})});const w=()=>p(),u=_=>{const I=_.target;e(m)&&!e(m).contains(I)&&(x(!1),o.onClose?.())},h=setTimeout(()=>{window.addEventListener("resize",w),document.addEventListener("click",u,!0)},10);return()=>{clearTimeout(h),window.removeEventListener("resize",w),document.removeEventListener("click",u,!0)}}else v(i,null)});let D=N(!1);te(()=>{x()&&e(m)&&!e(D)&&(v(D,!0),requestAnimationFrame(()=>{p()})),x()||v(D,!1)});var G=he(),z=oe(G);{var T=w=>{var u=Nt();u.__click=f=>f.stopPropagation();var h=a(u),_=a(h);_.__click=()=>A();var I=n(_,2);{var E=f=>{var g=Dt();F(f,g)};j(I,f=>{o.items.length>0&&f(E)})}var y=n(I,2);re(y,17,()=>o.items,ne,(f,g)=>{var r=Tt(),l=a(r);Z(l),l.__change=()=>S(e(g));var C=n(l,2),O=a(C,!0);t(C),t(r),L((K,Q)=>{B(r,1,`uno-zerpww ${K??""}`,"svelte-ytt77r"),qe(l,Q),q(O,e(g).groupName)},[()=>k(e(g))?"uno-rjmuwr":"",()=>k(e(g))]),F(f,r)});var b=n(y,2);{var c=f=>{var g=At();F(f,g)};j(b,f=>{o.items.length===0&&f(c)})}t(h),t(u),fe(u,f=>v(m,f),()=>e(m)),L(()=>{B(u,1,J(["uno-6df2f5",s()]),"svelte-ytt77r"),$(u,`top: ${e(i).top??""}px; left: ${e(i).left??""}px; width: ${e(i).width??""}px;`),B(_,1,`uno-h72q45 ${d()===null||d().length===0?"uno-tkm1v3":""}`,"svelte-ytt77r")}),F(w,u)};j(z,w=>{x()&&e(i)&&w(T)})}F(R,G),M()}Y(["click","change"]);var Gt=P("<div><!></div>"),Rt=P("<p> </p>"),Lt=P("<p>No group</p>"),qt=P('<div><!> <button class="uno-2rkbwc" aria-label="Edit groups"><!></button></div>');function Fe(R,o){H(o,!0);const d=ae(le);if(!d)throw new Error("TargetingEditableGroup must be used within a component that provides TargetingState context");const x=W(()=>d.availableScanGroups);let s=V(o,"groups",15,null),m=N(!1),i=N(null),p=N(!1),S=N(null),k=N(null),A=N(null);function D(){e(k)&&v(A,e(k).getBoundingClientRect(),!0),v(m,!0),v(p,!0),window.addEventListener("keydown",T)}function G(b){v(m,!1),v(p,!1),v(A,null),window.removeEventListener("keydown",T),s(s().groupIds=e(i)?.map(c=>c.groupId)??[],!0)}function z(){G()}function T(b){b.key==="Escape"&&G()}var w=qt(),u=a(w);{var h=b=>{var c=Gt();c.__click=g=>g.stopPropagation();var f=a(c);zt(f,{get items(){return e(x)},onClose:z,get buttonRect(){return e(A)},get selectedItems(){return e(i)},set selectedItems(g){v(i,g,!0)},get isOpen(){return e(p)},set isOpen(g){v(p,g,!0)}}),t(c),fe(c,g=>v(S,g),()=>e(S)),F(b,c)};j(u,b=>{e(m)&&b(h)})}var _=n(u,2);_.__click=b=>{b.stopPropagation(),D()};var I=a(_);{var E=b=>{var c=Rt(),f=a(c,!0);t(c),L(g=>q(f,g),[()=>s().groupIds.map(g=>e(x).find(l=>l.groupId===g)?.groupName??g).join(", ")]),F(b,c)},y=b=>{var c=Lt();F(b,c)};j(I,b=>{s().groupIds&&s().groupIds.length>0?b(E):b(y,!1)})}t(_),fe(_,b=>v(k,b),()=>e(k)),t(w),F(R,w),M()}Y(["click"]);var jt=P('<div aria-label="Collapse" class="uno-eesjd5"></div>'),Ot=P('<div aria-label="Expand" class="uno-6lb8s6"></div>'),Vt=P('<div class="uno-seps4m"><!></div>'),Ut=P('<div><button class="uno-dwxhdp"><div class="uno-3n0qzq"><div class="uno-h58bnc"><span class="uno-gwuzau"> </span> <div class="uno-h58bnc"><span class="uno-2pfg4f">Vol.</span> <!></div> <div class="uno-h58bnc"><span class="uno-2pfg4f">Ch.</span> <!></div> <div class="uno-h58bnc"><span class="uno-2pfg4f">Groups:</span> <!></div></div> <div class="uno-h58bnc"><span class="uno-2pfg4f">Title:</span> <!></div></div> <div class="uno-pctsjz"><!></div></button> <!></div>');function Ht(R,o){if(H(o,!0),!ae(le))throw new Error("TargetedChapterEditor must be used within a component that provides TargetingState context");const x=V(o,"chapter",15);let s=N(!1);function m(){v(s,!e(s))}var i=Ut(),p=a(i);p.__click=m;var S=a(p),k=a(S),A=a(k),D=a(A);t(A);var G=n(A,2),z=n(a(G),2);xe(z,{textClass:"text-sm text-gray-500",get value(){return x().chapterVolume},set value(r){x(x().chapterVolume=r,!0)}}),t(G);var T=n(G,2),w=n(a(T),2);xe(w,{textClass:"text-sm text-gray-500",get value(){return x().chapterNumber},set value(r){x(x().chapterNumber=r,!0)}}),t(T);var u=n(T,2),h=n(a(u),2);Fe(h,{get groups(){return x().associatedGroup},set groups(r){x(x().associatedGroup=r,!0)}}),t(u),t(k);var _=n(k,2),I=n(a(_),2);xe(I,{class:"uno-hddx5x",textClass:"text-xl font-bold",get value(){return x().chapterTitle},set value(r){x(x().chapterTitle=r,!0)}}),t(_),t(S);var E=n(S,2),y=a(E);{var b=r=>{var l=jt();F(r,l)},c=r=>{var l=Ot();F(r,l)};j(y,r=>{e(s)?r(b):r(c,!1)})}t(E),t(p);var f=n(p,2);{var g=r=>{var l=Vt(),C=a(l);Ct(C,{get pages(){return x().pages},set pages(O){x(x().pages=O,!0)}}),t(l),F(r,l)};j(f,r=>{e(s)&&r(g)})}t(i),L(()=>{B(i,1,J(["uno-1pywbj",o.class])),q(D,`${o.index+1}.`)}),F(R,i),M()}Y(["click"]);var Mt=P(`<div class="uno-hv8hef"><p>Here you have the ability to batch apply changes to all chapters at once. <br/> For title / volume / chapter number extraction, Regex is used, where the first capture group will
		be used to set the value. <br/> Should batch editing not be enough, you can manually edit each chapter individually, including removing
		pages. <br/> You are also able to assign groups to chapters, but for this you first need to register them with
		Group Preparation above. Groups will be applied to all chapters by default, or to the range if specified
		(values are inclusive)</p> <form class="uno-mtye4e"><p class="uno-vht8pm">Extract Title Regex:</p> <input type="text" placeholder="^(.+?)\\s+-\\s+Vol" class="uno-yslszy"/> <button type="submit" class="uno-tf3cn0">Apply</button></form> <form class="uno-mtye4e"><p class="uno-vht8pm">Extract Volume Regex:</p> <input type="text" placeholder="Vol\\.? ?(\\d+)" class="uno-yslszy"/> <button type="submit" class="uno-tf3cn0">Apply</button></form> <form class="uno-mtye4e"><p class="uno-vht8pm">Extract Chapter Number Regex:</p> <input type="text" placeholder="Ch\\.? ?(\\d+)" class="uno-yslszy"/> <button type="submit" class="uno-tf3cn0">Apply</button></form> <form class="uno-qw4l0r"><div class="uno-h5li09"><p class="uno-vht8pm">Assign Groups to All Chapters:</p> <!></div> <div class="uno-3lkpn9"><p>Range:</p> <input type="number" placeholder="Start" min="1" class="uno-yslszy"/> <p>to</p> <input type="number" placeholder="End" min="1" class="uno-yslszy"/> <button type="submit" class="uno-tf3cn0">Apply</button></div></form></div>`);function Bt(R,o){H(o,!0);let d=V(o,"chapters",31,()=>se([])),x=N(""),s=N(""),m=N(""),i=N(se(new Ee)),p=N(null),S=N(null);function k(){if(!e(x).trim())return;const r=new RegExp(e(x));d().forEach(l=>{if(!l.originalFolderPath)return;const C=l.originalFolderPath.match(r);C&&C[1]&&(l.chapterTitle=C[1])})}function A(){if(!e(s).trim())return;const r=new RegExp(e(s));d().forEach(l=>{if(!l.originalFolderPath)return;const C=l.originalFolderPath.match(r);C&&C[1]&&(l.chapterTitle=C[1])})}function D(){if(!e(m).trim())return;const r=new RegExp(e(m));d().forEach(l=>{if(!l.originalFolderPath)return;const C=l.originalFolderPath.match(r);C&&C[1]&&(l.chapterNumber=C[1])})}function G(){const r=(e(p)??1)-1,l=(e(S)??d().length)-1,C=e(i).groupIds??[];for(let O=r;O<=l;O++)d(d()[O].associatedGroup.groupIds=C,!0)}var z=Mt(),T=n(a(z),2),w=n(a(T),2);Z(w),pe(2),t(T);var u=n(T,2),h=n(a(u),2);Z(h),pe(2),t(u);var _=n(u,2),I=n(a(_),2);Z(I),pe(2),t(_);var E=n(_,2),y=a(E),b=n(a(y),2);Fe(b,{get groups(){return e(i)},set groups(r){v(i,r,!0)}}),t(y);var c=n(y,2),f=n(a(c),2);Z(f);var g=n(f,4);Z(g),pe(2),t(c),t(E),t(z),L(()=>{ie(f,"max",d().length),ie(g,"max",d().length)}),ge("submit",T,r=>{k(),r.preventDefault()}),ee(w,()=>e(x),r=>v(x,r)),ge("submit",u,r=>{A(),r.preventDefault()}),ee(h,()=>e(s),r=>v(s,r)),ge("submit",_,r=>{D(),r.preventDefault()}),ee(I,()=>e(m),r=>v(m,r)),ge("submit",E,r=>{G(),r.preventDefault()}),ee(f,()=>e(p),r=>v(p,r)),ee(g,()=>e(S),r=>v(S,r)),F(R,z),M()}var Kt=P('<div><div class="uno-dxjz78"><h2 class="uno-a4aj6t">Targeting Preparation (Required)</h2> <!></div> <div class="uno-dxjz78"><h2 class="uno-a4aj6t">Group Preparation</h2> <!></div> <div class="uno-dxjz78"><div class="uno-dxjz78"><h2 class="uno-i7ndbw">Batch Edit</h2> <!></div> <button type="button" class="uno-ha1y3p">Start Upload</button> <div class="uno-dxjz78"><h2 class="uno-i7ndbw">Chapters</h2> <div class="uno-ovwqmg"></div></div></div></div>');function Wt(R,o){H(o,!0);const d=ae(le);if(!d)throw new Error("TargetingPreparation must be used within a component that provides TargetingState context");let x=W(()=>d.seriesId);te(()=>{d.chapterStates=o.selectedFolders.map((u,h)=>{const _=u.files.map((I,E)=>new Ve(I.file.name,E,I.file));return new Ue(u.path,u.name,null,h.toString(),new Ie,new Ee,_)})});function s(u){return[...u].sort((h,_)=>{const I=h.chapterVolume,E=_.chapterVolume;if(!(I===null&&E===null)){if(I===null)return 1;if(E===null)return-1;{const c=String(I).localeCompare(String(E),void 0,{numeric:!0,sensitivity:"base"});if(c!==0)return c}}const y=h.chapterNumber,b=_.chapterNumber;return y===null&&b===null?0:y===null?1:b===null?-1:String(y).localeCompare(String(b),void 0,{numeric:!0,sensitivity:"base"})})}te(()=>{const u=s(d.chapterStates);for(let h=0;h<u.length;h++)if(u[h].originalFolderPath!==d.chapterStates[h].originalFolderPath){d.chapterStates=u;return}}),te(()=>{d.seriesId!==null&&d.chapterStates.forEach(u=>{u.associatedSeries||(u.associatedSeries=new Ie),u.associatedSeries.seriesId=d.seriesId??""})});var m=Kt(),i=a(m),p=n(a(i),2);wt(p,{}),t(i);var S=n(i,2),k=n(a(S),2);vt(k,{}),t(S);var A=n(S,2),D=a(A),G=n(a(D),2);Bt(G,{get chapters(){return d.chapterStates},set chapters(u){d.chapterStates=u}}),t(D);var z=n(D,2);z.__click=function(...u){o.onDone?.apply(this,u)};var T=n(z,2),w=n(a(T),2);re(w,21,()=>d.chapterStates,ne,(u,h,_)=>{Ht(u,{index:_,get chapter(){return d.chapterStates[_]},set chapter(I){d.chapterStates[_]=I}})}),t(w),t(T),t(A),t(m),L(()=>z.disabled=!e(x)),F(R,m),M()}Y(["click"]);var Yt=P('<p class="uno-bq6722"> </p>'),Xt=P('<div class="uno-7wyldj"><div class="uno-q4hlp3"></div> <p class="uno-tc37tx"> </p></div>'),Jt=P('<div class="uno-1dasbt"><div class="uno-5ugljb"><p class="uno-7t8pw2"> </p> <p class="uno-15ubh8"> </p></div> <p class="uno-15ubh8"> </p> <div class="uno-2j7als"><div class="uno-q4hlp3"></div> <p class="uno-tc37tx"> </p></div> <!> <div><p class="uno-15ubh8"> </p></div> <div class="uno-6048sh"></div></div>');function Qt(R,o){H(o,!0);function d(c){switch(c){case ce.NOT_STARTED:return"rgb(209 213 219)";case ce.WAITING:return"rgb(250 204 21)";case ce.UPLOADING:return"rgb(59 130 246)";case ce.UPLOADED:return"rgb(34 197 94)";case ce.FAILED:return"rgb(239 68 68)";default:return"rgb(209 213 219)"}}function x(c){switch(c){case ve.NOT_STARTED:return"rgb(209 213 219)";case ve.WAITING:return"rgb(250 204 21)";case ve.IN_PROGRESS:return"rgb(59 130 246)";case ve.COMPLETED:return"rgb(34 197 94)";case ve.FAILED:return"rgb(239 68 68)"}}function s(c){return`${Math.round(c*100)}%`}var m=Jt(),i=a(m),p=a(i),S=a(p,!0);t(p);var k=n(p,2),A=a(k);t(k),t(i);var D=n(i,2),G=a(D,!0);t(D);var z=n(D,2),T=a(z),w=n(T,2),u=a(w,!0);t(w),t(z);var h=n(z,2);{var _=c=>{var f=Yt(),g=a(f,!0);t(f),L(()=>q(g,o.chapter.error)),F(c,f)};j(h,c=>{o.chapter.error&&c(_)})}var I=n(h,2),E=a(I),y=a(E);t(E),t(I);var b=n(I,2);re(b,21,()=>o.chapter.pages,ne,(c,f)=>{var g=Xt(),r=a(g),l=n(r,2),C=a(l,!0);t(l),t(g),L((O,K)=>{$(g,`border-color: ${O??""}`),$(r,`
					width: ${e(f).progress*100}%;
					background-color: ${K??""};
					`),q(C,e(f).pageIndex+1)},[()=>d(e(f).status),()=>d(e(f).status)]),F(c,g)}),t(b),t(m),L((c,f,g)=>{$(m,`border-color: ${c??""}`),q(S,o.chapter.chapterTitle),q(A,`Vol. ${o.chapter.chapterVolume??"N/A"??""} Ch. ${o.chapter.chapterNumber??"N/A"??""}`),q(G,o.chapter.originalFolderPath),$(T,`width: ${o.chapter.progress*100}%; background-color: ${f??""}`),q(u,g),q(y,`Pages (${o.chapter.pages.length??""})`)},[()=>x(o.chapter.status),()=>x(o.chapter.status),()=>s(o.chapter.progress)]),F(R,m),M()}var Zt=P('<div class="uno-h9oswd"><h1 class="uno-y7jvv4">Upload Progress</h1> <div class="uno-w29ut3"><button class="uno-22ak9g">Start</button></div> <div class="uno-tudfko"><p class="uno-sdeqz9"> </p> <p class="uno-sdeqz9"> </p> <div class="uno-766c9u"><div class="uno-39vddl"></div> <p class="uno-q3k2ph"> </p></div></div> <div class="uno-h9oswd"></div></div>');function $t(R,o){H(o,!0);const d=ae(_e);if(!d)throw new Error("UploaderOrchestrator must be used within a component that provides ApiAuthContext context");const x=ae(le);if(!x)throw new Error("UploaderOrchestrator must be used within a component that provides TargetingState context");let s=W(()=>x.chapterStates),m=V(o,"busy",15,!1),i=W(()=>e(s).length),p=W(()=>e(s).filter(l=>l.status===ve.COMPLETED).length),S=W(()=>e(s).reduce((l,C)=>l+C.pages.length,0)),k=W(()=>e(s).reduce((l,C)=>l+C.pages.filter(O=>O.status===ce.UPLOADED).length,0)),A=N(null),D=N(!1);function G(){if(!d.apiToken){alert("Please set up API authentication first");return}if(!x.seriesId){alert("Please set a series ID first");return}if(x.chapterStates.length===0){alert("No chapters to upload");return}console.log("Starting upload"),console.log("API Token:",d.apiToken),console.log("Series ID:",x.seriesId),console.log("Chapters:",x.chapterStates),v(A,new He([...x.chapterStates],d.apiToken),!0),v(D,!0),m(!0),e(A).uploadAll().then(()=>{v(D,!1)}).catch(l=>{console.error("Upload error:",l),v(D,!1)}).finally(()=>{m(!1)})}function z(l){return`${Math.round(l*100)}%`}var T=Zt(),w=n(a(T),2),u=a(w);u.__click=G,t(w);var h=n(w,2),_=a(h),I=a(_);t(_);var E=n(_,2),y=a(E);t(E);var b=n(E,2),c=a(b),f=n(c,2),g=a(f,!0);t(f),t(b),t(h);var r=n(h,2);re(r,21,()=>e(s),ne,(l,C)=>{Qt(l,{get chapter(){return e(C)}})}),t(r),t(T),L(l=>{u.disabled=e(D),q(I,`Chapters: ${e(p)??""} / ${e(i)??""}`),q(y,`Pages: ${e(k)??""} / ${e(S)??""}`),$(c,`width: ${e(k)/e(S)*100}%`),q(g,l)},[()=>z(e(k)/e(S))]),F(R,T),M()}Y(["click"]);var ea=P('<span class="uno-7tffl0"></span>'),ta=P('<span class="uno-drsxdm"></span>'),aa=P('<span class="uno-vl9lsr"><!></span>'),ra=P('<span class="uno-ysln7w"></span>'),na=P('<div class="uno-wkipc4"><span class="uno-ysln7w"></span> <span class="uno-aor1w7"></span> <span class="uno-nzki4l"> </span> <span class="uno-0t48g9"> </span></div>'),oa=P('<div class="uno-pkltwb"><!> <!></div>'),sa=P('<div><button type="button" class="uno-r8z5of"><!> <span class="uno-r67jyj"></span> <span class="uno-j7nlk6"> </span> <span class="uno-2as1mj"> </span> <span class="uno-qcow3p"> </span></button> <!></div>');function Pe(R,o){H(o,!0);let d=V(o,"level",3,0),x=V(o,"class",3,""),s=N(!1);function m(){i&&v(s,!e(s))}const i=o.folder.files.length>0||o.folder.folders.length>0,p=`${d()*5}px`;var S=sa(),k=a(S);k.__click=m;var A=a(k);{var D=y=>{var b=aa(),c=a(b);{var f=r=>{var l=ea();F(r,l)},g=r=>{var l=ta();F(r,l)};j(c,r=>{e(s)?r(f):r(g,!1)})}t(b),F(y,b)},G=y=>{var b=ra();F(y,b)};j(A,y=>{i?y(D):y(G,!1)})}var z=n(A,4),T=a(z,!0);t(z);var w=n(z,2),u=a(w);t(w);var h=n(w,2),_=a(h);t(h),t(k);var I=n(k,2);{var E=y=>{var b=oa(),c=a(b);re(c,17,()=>o.folder.folders,ne,(g,r)=>{{let l=W(()=>d()+1);Pe(g,{get folder(){return e(r)},get level(){return e(l)}})}});var f=n(c,2);re(f,17,()=>o.folder.files,ne,(g,r)=>{var l=na(),C=n(a(l),4),O=a(C,!0);t(C);var K=n(C,2),Q=a(K);t(K),t(l),L(U=>{$(l,`padding-left: ${p};`),q(O,e(r).file.name),q(Q,`${U??""} KB`)},[()=>(e(r).file.size/1024).toFixed(2)]),F(g,l)}),t(b),L(()=>$(b,`margin-left: ${p};`)),F(y,b)};j(I,y=>{e(s)&&y(E)})}t(S),L(()=>{B(S,1,J(["uno-0q6x3s",x()])),$(k,`padding-left: ${p};`),k.disabled=!i,q(T,o.folder.name||"Root"),q(u,`L${o.folder.level??""}`),q(_,`(${o.folder.files.length??""} file${o.folder.files.length!==1?"s":""}, ${o.folder.folders.length??""} folder${o.folder.folders.length!==1?"s":""})`)}),F(R,S),M()}Y(["click"]);var ia=P("<option> </option>"),la=P("<select></select>");function ke(R,o){H(o,!0);let d=V(o,"selectedItem",15,null),x=V(o,"class",3,"");var s=la();re(s,21,()=>o.items,ne,(m,i)=>{var p=ia(),S=a(p,!0);t(p);var k={};L(()=>{q(S,e(i)),k!==(k=e(i))&&(p.value=(p.__value=e(i))??"")}),F(m,p)}),t(s),L(()=>B(s,1,J(["uno-t1s346",x()]))),Me(s,d),F(R,s),M()}var ua=P(`<div><h2 class="uno-be8dro text-md"> </h2> <div class="uno-dby05x"><div class="uno-s94yof"><div><h3 class="uno-r1aw2a">Chapter Name Level</h3> <p class="uno-pkyayq">This is the level at which folders will be grouped into chapters (the L numbering on the
					directory explorer). The folders at this level will be used to group together chapters.</p></div> <!></div> <div class="uno-s94yof"><div><h3 class="uno-r1aw2a">File Level</h3> <p class="uno-pkyayq">This is the level at which files inside folders will be considered as being a part of the
					chapter (the L numbering on the directory explorer). Only files contained within folders
					at this level will be considered as being a part of the chapter.</p></div> <!></div></div> <div class="uno-s94yof"><div><h3 class="uno-r1aw2a">File Path Filter</h3> <p class="uno-pkyayq">This is a regex filter that will be applied in addition to the file level selector. This is
				useful if you have multiple files at the same file level, but are only really interested in
				a subset of them.</p></div> <input type="text" placeholder="Filter files by path regex..." class="uno-kfrf8d"/></div></div>`);function da(R,o){H(o,!0);let d=V(o,"class",3,""),x=V(o,"slicedFolders",15,null),s=W(()=>o.selectedFolder.depth),m=N("1"),i=N("1"),p=N("");te(()=>{e(m)&&e(i)&&parseInt(e(i))<parseInt(e(m))&&v(i,e(m),!0);const y=S(parseInt(e(m)),o.selectedFolder),b=A(y,e(p));b.sort((c,f)=>c.name.localeCompare(f.name)),x(b)});function S(y,b){let c=[];for(const f of b.folders){if(f.level===y){c.push(f);continue}f.level<y&&c.push(...S(y,f))}return c}function k(y){const b=y.files;let c=[];for(const f of y.folders)c.push(...k(f));return[...b,...c]}function A(y,b){if(!b.trim())return y;const c=new RegExp(b.trim());let f=[];for(const g of y){const l=k(g).filter(C=>c.test(C.path));l.length!==0&&f.push(new Be(g.name,g.path,l,[],g.level,0))}return f}var D=ua(),G=a(D),z=a(G);t(G);var T=n(G,2),w=a(T),u=n(a(w),2);{let y=W(()=>Array.from({length:e(s)},(b,c)=>c+1).map(b=>b.toString()));ke(u,{get items(){return e(y)},class:"uno-p2tdxo",get selectedItem(){return e(m)},set selectedItem(b){v(m,b,!0)}})}t(w);var h=n(w,2),_=n(a(h),2);{let y=W(()=>Array.from({length:e(s)},(b,c)=>c+1).map(b=>b.toString()));ke(_,{get items(){return e(y)},class:"uno-p2tdxo",get selectedItem(){return e(i)},set selectedItem(b){v(i,b,!0)}})}t(h),t(T);var I=n(T,2),E=n(a(I),2);Z(E),t(I),t(D),L(()=>{B(D,1,J(["uno-p7gj2t",d()])),q(z,`Vertical Slice Pane - ${e(s)??""}`)}),ee(E,()=>e(p),y=>v(p,y)),F(R,D),M()}var ca=P('<button class="uno-nzuz7z"><div class="uno-xqpedf"><p class="uno-sc1fdq"><span class="uno-otrtt8">Path:</span> </p> <div class="uno-rgzzux"><p class="uno-sc1fdq"><span class="uno-otrtt8">Name:</span> </p> <p class="uno-sc1fdq"><span class="uno-otrtt8">Files:</span> </p></div></div> <input type="checkbox" class="uno-2ed3xl"/></button>');function va(R,o){H(o,!0);let d=V(o,"selectedSlicedFolder",15,null);function x(){d(d().isSelected=!d().isSelected,!0)}var s=ca();s.__click=x;var m=a(s),i=a(m),p=n(a(i));t(i);var S=n(i,2),k=a(S),A=n(a(k));t(k);var D=n(k,2),G=n(a(D));t(D),t(S),t(m);var z=n(m,2);Z(z),t(s),L(()=>{q(p,` ${d().folder.path??""}`),q(A,` ${d().folder.name??""}`),q(G,` ${d().folder.files.length??""}`)}),Ke(z,()=>d().isSelected,T=>d(d().isSelected=T,!0)),F(R,s),M()}Y(["click"]);var pa=P("<div></div>");function fa(R,o){H(o,!0);let d=V(o,"class",3,""),x=V(o,"selectedSlicedFolders",31,()=>se([]));te(()=>{x(o.slicedFolders.map(m=>({folder:m,isSelected:!0})))});var s=pa();re(s,21,x,ne,(m,i,p)=>{va(m,{get selectedSlicedFolder(){return x()[p]},set selectedSlicedFolder(S){x(x()[p]=S,!0)}})}),t(s),L(()=>B(s,1,J(["uno-c09693",d()]))),F(R,s),M()}var ha=P('<div><h2 class="uno-cqts9q text-md"> </h2> <!></div> <button type="button" class="uno-prxpus">Continue to uploader</button>',1),ga=P('<div><h1 class="uno-dv92z8">Vertical Slicer</h1> <div class="uno-0l5rnf"><div><h2 class="uno-r4krky text-md">Directory Explorer</h2></div> <div class="uno-uwenez"></div> <div class="uno-7k8lj1"><h2 class="uno-cqts9q text-md">Slicer</h2></div></div> <div class="uno-0402h6"><div class="uno-z8ysy7"><!></div> <button type="button" class="uno-05c4ed group" aria-label="Resize panels"><div class="uno-gtkyu2"><div class="uno-1eqask"></div> <div class="uno-1eqask"></div> <div class="uno-1eqask"></div></div></button> <div class="uno-w96zyv"><!></div></div> <!></div>');function _a(R,o){H(o,!0);let d=V(o,"finalizedFolderSelection",15,null),x=V(o,"class",3,""),s=N(null),m=N(se([])),i=W(()=>e(m).filter(r=>r.isSelected)),p=W(()=>We(o.selectedFiles??[])),S=N(null),k=N(!1),A=N(20);function D(){d(e(s)),o.onDone()}function G(r){v(k,!0)}function z(r){if(!e(k)||!e(S))return;const l=e(S).getBoundingClientRect(),C=(r.clientX-l.left)/l.width*100;v(A,Math.max(20,Math.min(80,C)),!0)}function T(){v(k,!1)}te(()=>{if(e(k))return document.addEventListener("mousemove",z),document.addEventListener("mouseup",T),document.body.style.cursor="col-resize",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",T),document.body.style.cursor="",document.body.style.userSelect=""}});var w=ga(),u=n(a(w),2),h=a(u);pe(4),t(u);var _=n(u,2),I=a(_),E=a(I);Pe(E,{get folder(){return e(p)}}),t(I);var y=n(I,2);y.__mousedown=G;var b=n(y,2),c=a(b);da(c,{get selectedFolder(){return e(p)},get slicedFolders(){return e(s)},set slicedFolders(r){v(s,r,!0)}}),t(b),t(_),fe(_,r=>v(S,r),()=>e(S));var f=n(_,2);{var g=r=>{var l=ha(),C=oe(l),O=a(C),K=a(O);t(O);var Q=n(O,2);fa(Q,{get slicedFolders(){return e(s)},class:"uno-xmletc",get selectedSlicedFolders(){return e(m)},set selectedSlicedFolders(X){v(m,X,!0)}}),t(C);var U=n(C,2);U.__click=D,L(()=>{q(K,`Vertical Slice Preview (${e(i).length??""}
				selected)`),U.disabled=e(i).length===0}),F(r,l)};j(f,r=>{e(s)&&r(g)})}t(w),L(()=>{B(w,1,`uno-xxsekz ${x()??""}`),$(h,`width: ${e(A)??""}%;`),$(I,`width: ${e(A)??""}%;`)}),F(R,w),M()}Y(["mousedown","click"]);var ma=P("<p>todo: finished</p>"),ba=P('<div class="uno-kxk4zq"><h1 class="uno-cnw81i">Uploader Improved</h1> <a class="uno-v5u7bi">Tutorial & Docs</a> <!> <div class="uno-03fb0a"><button type="button">Pick Folder</button> <div class="uno-wx0nl6"></div> <button type="button">Select Folders</button> <div class="uno-wx0nl6"></div> <button type="button">Edit Chapters</button> <div class="uno-wx0nl6"></div> <button type="button">Upload</button> <div class="uno-wx0nl6"></div> <button type="button">Finished</button></div> <!></div>');function Da(R,o){H(o,!0);let d=N(null),x=N(null);Se(_e,new Xe),Se(le,new st);var s=(l=>(l.PICKING_FOLDER="PICKING_FOLDER",l.SELECTING_FOLDERS="SELECTING_FOLDERS",l.EDITING_CHAPTERS="EDITING_CHAPTERS",l.UPLOADING="UPLOADING",l.FINISHED="FINISHED",l))(s||{});let m=N(!1),i=N("PICKING_FOLDER"),p=W(()=>e(i)==="UPLOADING"&&e(m)),S=W(()=>e(i)!=="UPLOADING"&&e(i)!=="EDITING_CHAPTERS");function k(l){e(d)&&v(i,l,!0)}function A(){v(i,"SELECTING_FOLDERS")}function D(){v(i,"EDITING_CHAPTERS")}function G(){v(i,"UPLOADING")}function z(){v(i,"FINISHED")}var T=ba(),w=n(a(T),2),u=n(w,2);{var h=l=>{ot(l,{})};j(u,l=>{e(S)&&l(h)})}var _=n(u,2),I=a(_);I.__click=()=>k(s.PICKING_FOLDER);var E=n(I,4);E.__click=()=>k(s.SELECTING_FOLDERS);var y=n(E,4);y.__click=()=>k(s.EDITING_CHAPTERS);var b=n(y,4);b.__click=()=>k(s.UPLOADING);var c=n(b,4);c.disabled=!0,t(_);var f=n(_,2);{var g=l=>{$e(l,{onDone:A,class:"uno-vjg3e3",get selectedFiles(){return e(d)},set selectedFiles(C){v(d,C,!0)}})},r=l=>{var C=he(),O=oe(C);{var K=U=>{_a(U,{onDone:D,get selectedFiles(){return e(d)},get finalizedFolderSelection(){return e(x)},set finalizedFolderSelection(X){v(x,X,!0)}})},Q=U=>{var X=he(),be=oe(X);{var Ce=ue=>{Wt(ue,{get selectedFolders(){return e(x)},onDone:G})},De=ue=>{var ye=he(),Te=oe(ye);{var Ae=de=>{$t(de,{onDone:z,get busy(){return e(m)},set busy(me){v(m,me,!0)}})},Ne=de=>{var me=he(),ze=oe(me);{var Ge=we=>{var Re=ma();F(we,Re)};j(ze,we=>{e(i)===s.FINISHED&&we(Ge)},!0)}F(de,me)};j(Te,de=>{e(i)===s.UPLOADING?de(Ae):de(Ne,!1)},!0)}F(ue,ye)};j(be,ue=>{e(i)===s.EDITING_CHAPTERS&&e(x)?ue(Ce):ue(De,!1)},!0)}F(U,X)};j(O,U=>{e(i)===s.SELECTING_FOLDERS?U(K):U(Q,!1)},!0)}F(l,C)};j(f,l=>{e(i)===s.PICKING_FOLDER?l(g):l(r,!1)})}t(T),L(l=>{ie(w,"href",l),B(I,1,J({"uno-cakuzm":!0,"uno-q3z8o0":e(i)!==s.PICKING_FOLDER,"uno-swor2c":e(i)===s.PICKING_FOLDER})),I.disabled=e(p),B(E,1,J({"uno-cakuzm":!0,"uno-q3z8o0":e(i)!==s.SELECTING_FOLDERS,"uno-swor2c":e(i)===s.SELECTING_FOLDERS})),E.disabled=!e(d)||e(p),B(y,1,J({"uno-cakuzm":!0,"uno-q3z8o0":e(i)!==s.EDITING_CHAPTERS,"uno-swor2c":e(i)===s.EDITING_CHAPTERS})),y.disabled=!e(x)||e(p),B(b,1,J({"uno-cakuzm":!0,"uno-q3z8o0":e(i)!==s.UPLOADING,"uno-swor2c":e(i)===s.UPLOADING})),b.disabled=!e(x)||e(p),B(c,1,J({"uno-0epyv5":!0,"uno-az2gsq":e(i)!==s.FINISHED,"uno-z025it":e(i)===s.FINISHED}))},[()=>Je("/docs")]),F(R,T),M()}Y(["click"]);export{Da as component,Ca as universal};
