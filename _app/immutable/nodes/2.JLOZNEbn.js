import{f as O,a as F,c as Oe}from"../chunks/CTHEc7mS.js";import{E as le,A as G,D as ye,I as p,K as f,J as c,B as i,G as Z,H as ue,C as E,aJ as Be,u as Ee,af as ge,F as Pe,aH as be,aC as mt}from"../chunks/DpPdw_ub.js";import{d as he,e as Ce}from"../chunks/D_Kb6Vk8.js";import{p as ee,b as He,i as Y}from"../chunks/DxCQtHkc.js";import{r as ie,s as je,a as Ut}from"../chunks/DofntP01.js";import{c as qt,s as fe,e as ke,Z as Bt,B as Ht,i as xe,t as Ye,w as Te,S as kt,x as Ne,C as Ue,y as qe,D as Qe,k as lt,z as Ge,n as Yt,d as bt,f as _t,h as yt,j as at,l as Et,p as Kt,q as Wt,r as Zt,A as ut,b as Xt,u as Jt,T as Qt,v as $t,U as Dt}from"../chunks/ScWzwkCA.js";import{s as X}from"../chunks/CI280J2U.js";import{b as xt,A as en}from"../chunks/Cjq1WBUe.js";import{r as wt}from"../chunks/CEfbl4dh.js";import{g as tn}from"../chunks/Be3wHkRv.js";const nn=!0,Ts=Object.freeze(Object.defineProperty({__proto__:null,prerender:nn},Symbol.toStringTag,{value:"Module"}));var rn=O('<p class="uno-133tx6"> </p>'),sn=O('<div class="uno-1hpqvn"><div class="uno-wfkxha"></div> <p class="uno-133tx6"> </p> <!></div>'),an=O('<div class="uno-0uncsh"><p class="uno-e8d28c"> </p> <p class="uno-4w2as4">Extension: <span class="uno-u618z0"> </span> â†’ Detected type: <span class="uno-u618z0"> </span></p></div>'),on=O('<div class="uno-70vcd5"><p class="uno-iik7i5"> </p> <div class="uno-3yjag0"></div></div>'),ln=O('<div class="uno-h4fy2t"><button><h1 class="uno-21tubf">Folder Selector</h1> <input class="uno-rcrjh3" type="file"/></button> <!> <!></div>');function un(n,e){le(e,!0),qt({useWebWorkers:!1});let t=ee(e,"selectedFiles",15,null),r=ee(e,"class",3,""),s=G(null),a=G(!1),o=G(null),d=G(ye([])),l=G(!1);const u=["image/jpeg","image/jpg","image/png","image/gif","image/webp","application/vnd.comicbook+zip","application/zip","application/json","text/xml"],w=["jpg","jpeg","png","gif","webp","cbz","zip","xml"];async function m(g){const _=g.name.split(".").pop()?.toLowerCase();if(!(_==="cbz")&&!(_==="zip"))throw new Error(`Unsupported archive format: ${_}`);console.log(`Extracting ${_} file:`,g.name);const T=new Bt(new Ht(g)),S=await T.getEntries(),P=[],b=g.name.replace(/\.(cbz|zip)$/i,""),j=g.webkitRelativePath||g.name;for(const H of S){if(!H.filename||H.directory)continue;E(o,H.filename,!0);const K=H.filename.split(".").pop()?.toLowerCase();if(!K||!w.includes(K))continue;const J=new TransformStream,ae=new Response(J.readable).blob();await H.getData(J.writable);let W=await ae;if(!W.type){const we=z(K);W=new Blob([W],{type:we})}const $=H.filename,de=$.split("/").pop()??$,re=j.includes("/")?`${j.split("/").slice(0,-1).join("/")}/${b}/${$}`:`${b}/${$}`,ce=new File([W],de,{type:W.type});Object.defineProperty(ce,"webkitRelativePath",{value:re,writable:!1,enumerable:!0,configurable:!0}),P.push(ce)}return await T.close(),E(o,null),P}function z(g){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp"}[g]||"application/octet-stream"}async function U(g){const _=await g.slice(0,12).arrayBuffer(),v=new Uint8Array(_);return v.length>=8&&v[0]===137&&v[1]===80&&v[2]===78&&v[3]===71?"png":v.length>=3&&v[0]===255&&v[1]===216&&v[2]===255?"jpg":v.length>=6&&v[0]===71&&v[1]===73&&v[2]===70&&v[3]===56&&(v[4]===57||v[4]===55)&&v[5]===97?"gif":v.length>=12&&v[0]===82&&v[1]===73&&v[2]===70&&v[3]===70&&v[8]===87&&v[9]===69&&v[10]===66&&v[11]===80?"webp":null}async function L(g){const _=[],v=["jpg","jpeg","png","gif","webp"];for(const C of g){const T=C.name.split(".").pop()?.toLowerCase();if(!T||!v.includes(T))continue;const S=await U(C);if(!S)continue;if((S==="jpeg"?"jpg":S)!==(T==="jpeg"?"jpg":T)){const j=C.webkitRelativePath||C.name;_.push({file:C,path:j,detectedType:S,actualExtension:T})}}return _}async function I(g){E(a,!0),E(d,[],!0);const _=g.target,v=Array.from(_.files??[]),C=v.filter(P=>{const b=P.name.split(".").pop()?.toLowerCase();return b==="cbz"||b==="zip"}),T=v.filter(P=>{const b=P.name.split(".").pop()?.toLowerCase(),j=P.type;return b!=="cbz"&&b!=="zip"&&w.includes(b??"")&&u.includes(j)}),S=[];for(const P of C)try{const b=await m(P);S.push(...b)}catch(b){console.error(`Error extracting ${P.name}:`,b)}t([...T,...S]),console.log("Selected files:",t()),E(a,!1),E(l,!0),E(d,await L(t()),!0),E(l,!1),i(d).length===0&&e.onDone()}function h(g){i(s)?.click()}var A=ln(),x=p(A);x.__click=h;var V=f(p(x),2);V.webkitdirectory=!0,V.multiple=!0,V.__change=I,He(V,g=>E(s,g),()=>i(s)),c(x);var B=f(x,2);{var q=g=>{var _=sn(),v=f(p(_),2),C=p(v,!0);c(v);var T=f(v,2);{var S=P=>{var b=rn(),j=p(b,!0);c(b),Z(()=>X(j,i(o))),F(P,b)};Y(T,P=>{i(o)&&P(S)})}c(_),Z(()=>X(C,i(a)?"Processing files...":"Validating files...")),F(g,_)};Y(B,g=>{(i(a)||i(l))&&g(q)})}var N=f(B,2);{var y=g=>{var _=on(),v=p(_),C=p(v);c(v);var T=f(v,2);ke(T,21,()=>i(d),xe,(S,P)=>{let b=()=>i(P).path,j=()=>i(P).detectedType,H=()=>i(P).actualExtension;var K=an(),J=p(K),ae=p(J,!0);c(J);var W=f(J,2),$=f(p(W)),de=p($);c($);var re=f($,2),ce=p(re);c(re),c(W),c(K),Z(()=>{X(ae,b()),X(de,`.${H()??""}`),X(ce,`.${j()??""}`)}),F(S,K)}),c(T),c(_),Z(()=>X(C,`Found ${i(d).length??""} file${i(d).length===1?"":"s"} with incorrect
				extensions:`)),F(g,_)};Y(N,g=>{i(d).length>0&&g(y)})}c(A),Z(()=>{fe(x,1,`uno-gob8cp ${r()??""}`),x.disabled=i(a)||i(l)}),F(n,A),ue()}he(["click","change"]);var dn=O('<p class="uno-gcb561"> </p>'),cn=O('<p class="uno-db86t5">Validating...</p>'),fn=O('<div class="uno-6sm0q7"><div class="uno-dtn9ds"><p class="uno-bk54g7"> </p> <p class="uno-j9i8ts"> </p></div> <button type="button" class="uno-yltzkr" aria-label="Remove" title="Remove"><div class="uno-oz5j6k"></div></button></div>'),pn=O('<div class="uno-dkzd2u"></div>'),vn=O('<div class="uno-kktp2u"><div class="uno-td2fqv"><div class="uno-dtn9ds"><label for="group-id-input" class="uno-zd69eo">Group ID:</label> <input class="uno-ko9not" id="group-id-input" type="text" placeholder="Enter group ID"/></div> <button class="uno-mx7466" type="button">Add Group</button> <!> <!> <!></div></div>');function gn(n,e){le(e,!0);const t="https://api.weebdex.org/group",r=Be(xt);if(!r)throw new Error("TargetingGroupValidator must be used within a component that provides ApiAuthContext context");const s=Be(Ye);if(!s)throw new Error("TargetingGroupValidator must be used within a component that provides TargetingState context");let a=G(""),o=G(!1),d=G(null),l=G(null);function u(y,g){if(s.availableScanGroups.find(v=>v.groupId===y))return;const _=new kt;_.groupId=y,_.groupName=g,s.availableScanGroups=[...s.availableScanGroups,_]}function w(y){s.availableScanGroups=s.availableScanGroups.filter(g=>g.groupId!==y)}async function m(){if(!i(a).trim()){E(d,"Please enter a group ID");return}const y=r.apiToken;if(!y){E(d,"No API token found");return}E(o,!0),E(d,null);try{const g=`${t}/${i(a).trim()}`,_=await fetch(g,{headers:{Authorization:`Bearer ${y}`}});if(_.ok){const v=await _.json();E(l,v,!0),u(i(a).trim(),v.name),E(d,null)}else E(d,`Failed to validate series: ${_.status} ${_.statusText}`)}catch(g){E(d,g instanceof Error?g.message:"Failed to validate series",!0)}finally{E(o,!1)}}var z=vn(),U=p(z),L=p(U),I=f(p(L),2);ie(I),c(L);var h=f(L,2);h.__click=m;var A=f(h,2);{var x=y=>{var g=dn(),_=p(g,!0);c(g),Z(()=>X(_,i(d))),F(y,g)};Y(A,y=>{i(d)&&y(x)})}var V=f(A,2);{var B=y=>{var g=cn();F(y,g)};Y(V,y=>{i(o)&&y(B)})}var q=f(V,2);{var N=y=>{var g=pn();ke(g,21,()=>s.availableScanGroups,xe,(_,v)=>{var C=fn(),T=p(C),S=p(T),P=p(S,!0);c(S);var b=f(S,2),j=p(b,!0);c(b),c(T);var H=f(T,2);H.__click=()=>w(i(v).groupId),c(C),Z(()=>{X(P,i(v).groupId),X(j,i(v).groupName)}),F(_,C)}),c(g),F(y,g)};Y(q,y=>{s.availableScanGroups.length>0&&y(N)})}c(U),c(z),Z(()=>{I.disabled=i(o),h.disabled=i(o)}),Te(I,()=>i(a),y=>E(a,y)),F(n,z),ue()}he(["click"]);var hn=O('<form class="uno-7r54da"><input type="text" class="uno-q5dcv6"/> <button type="button" aria-label="Cancel" class="uno-lxck3h"><div class="uno-c68bgq"></div></button> <button type="submit" aria-label="Save" class="uno-q29m49"><div class="uno-4ecae6"></div></button></form>'),mn=O("<button> </button>"),bn=O("<div><!></div>");function it(n,e){le(e,!0);let t=ee(e,"value",15,null),r=ee(e,"class",3,""),s=ee(e,"textClass",3,""),a=G(!1),o=G(null),d=G(null);function l(){e.chapter&&e.fieldName&&!e.chapter.manuallyEditedFields.has(e.fieldName)&&(e.chapter.originalFieldValues.has(e.fieldName)||e.chapter.originalFieldValues.set(e.fieldName,t())),E(a,!0),E(o,t(),!0)}Ee(()=>{i(d)&&i(a)?(i(d).focus(),window.addEventListener("keydown",w)):window.removeEventListener("keydown",w)});function u(I){E(a,!1),I?(t(i(o)),e.chapter&&e.fieldName&&e.chapter.manuallyEditedFields.add(e.fieldName)):E(o,t(),!0)}function w(I){I.key==="Escape"&&u(!1)}var m=bn();m.__click=I=>I.stopPropagation();var z=p(m);{var U=I=>{var h=hn(),A=p(h);ie(A),He(A,V=>E(d,V),()=>i(d));var x=f(A,2);x.__click=V=>{V.stopPropagation(),u(!1)},ge(2),c(h),Ce("submit",h,V=>{V.preventDefault(),u(!0)}),Te(A,()=>i(o),V=>E(o,V)),F(I,h)},L=I=>{var h=mn();h.__click=x=>{x.stopPropagation(),l()};var A=p(h,!0);c(h),Z(()=>{fe(h,1,Ne(["uno-8izkha",s()])),X(A,t()??"â€”")}),F(I,h)};Y(z,I=>{i(a)?I(U):I(L,!1)})}c(m),Z(()=>fe(m,1,Ne(["uno-6gjgox",r(),{"uno-xzkqve":i(a)}]))),F(n,m),ue()}he(["click"]);var _n=O('<img class="uno-nxxp44"/>'),yn=O('<div class="uno-qetgxl"></div>'),En=O('<div class="uno-iwkknw"></div>'),wn=O('<div class="uno-wh6kcz"><span class="uno-6atr7t">Page deleted</span></div>'),In=O('<button aria-label="Delete page" class="uno-x6no3p"><div class="uno-hcwd2d"></div></button>'),Nn=O('<button aria-label="Restore page" class="uno-m81k9t"><div class="uno-60j01b"></div></button>'),Tn=O('<div class="uno-ezvmq6"><!> <!> <div class="uno-mb41n8"><span class="uno-6atr7t"> </span></div> <!></div>'),Sn=O('<div class="uno-2sw5oq"></div>');function kn(n,e){le(e,!0);let t=ee(e,"pages",31,()=>ye([]));function r(d){return URL.createObjectURL(d)}function s(d){t(t()[d].isDeleted=!0,!0)}function a(d){t(t()[d].isDeleted=!1,!0)}var o=Sn();ke(o,21,t,xe,(d,l,u)=>{var w=Tn(),m=p(w);{var z=N=>{var y=_n();Z(g=>{je(y,"src",g),je(y,"alt",i(l).pageName)},[()=>r(i(l).pageFile)]),F(N,y)},U=N=>{var y=Oe(),g=Pe(y);{var _=C=>{var T=yn();F(C,T)},v=C=>{var T=En();F(C,T)};Y(g,C=>{i(l).pageType===Ue.CHAPTER_DEFINITION_FILE?C(_):C(v,!1)},!0)}F(N,y)};Y(m,N=>{i(l).pageType===Ue.CHAPTER_PAGE?N(z):N(U,!1)})}var L=f(m,2);{var I=N=>{var y=wn();F(N,y)};Y(L,N=>{i(l).isDeleted&&N(I)})}var h=f(L,2),A=p(h),x=p(A,!0);c(A),c(h);var V=f(h,2);{var B=N=>{var y=In();y.__click=()=>s(u),F(N,y)},q=N=>{var y=Nn();y.__click=()=>a(u),F(N,y)};Y(V,N=>{i(l).isDeleted?N(q,!1):N(B)})}c(w),Z(()=>X(x,i(l).pageName)),F(d,w)}),c(o),F(n,o),ue()}he(["click"]);var xn=O('<div class="uno-fpe0ok svelte-ytt77r"></div>'),Fn=O('<label><input type="checkbox" class="uno-il5nwu svelte-ytt77r"/> <span class="uno-5vknvn svelte-ytt77r"> </span></label>'),Cn=O('<div class="uno-qezd1s svelte-ytt77r">No items available</div>'),Pn=O('<div role="presentation"><div class="uno-f4km04 svelte-ytt77r"><button type="button"><span class="svelte-ytt77r">Clear Selection</span></button> <!> <!> <!></div></div>');function An(n,e){le(e,!0);let t=ee(e,"selectedItems",15,null),r=ee(e,"isOpen",15,!0),s=ee(e,"class",3,""),a=G(null),o=G(null);function d(){if(!e.buttonRect)return;const I=e.buttonRect,h=window.innerHeight,A=window.innerWidth,x=4,V=256;let B=V;if(i(a)){const C=i(a).getBoundingClientRect().height;B=Math.min(C,V)}const q=h-I.bottom-x,N=I.top-x,y=q<V&&N>q;let g;y?(g=I.top-B-x,g<x&&(g=x)):(g=I.bottom+x,g+B>h&&(g=Math.max(x,h-B-x)));let _=I.left;const v=256;_+v>A&&(_=A-v-x,_<x&&(_=x)),E(o,{top:g,left:_,width:Math.max(I.width,v)},!0)}Ee(()=>{t()===null&&t([])});function l(I){t()===null&&t([]),t().findIndex(A=>A.groupId===I.groupId)>=0?t(t().filter(A=>A.groupId!==I.groupId)):t([...t(),I])}function u(I){return t()===null?!1:t().some(h=>h.groupId===I.groupId)}function w(){t([])}Ee(()=>{if(r()){if(!e.buttonRect){E(o,null);return}requestAnimationFrame(()=>{requestAnimationFrame(()=>{d()})});const I=()=>d(),h=x=>{const V=x.target;i(a)&&!i(a).contains(V)&&(r(!1),e.onClose?.())},A=setTimeout(()=>{window.addEventListener("resize",I),document.addEventListener("click",h,!0)},10);return()=>{clearTimeout(A),window.removeEventListener("resize",I),document.removeEventListener("click",h,!0)}}else E(o,null)});let m=G(!1);Ee(()=>{r()&&i(a)&&!i(m)&&(E(m,!0),requestAnimationFrame(()=>{d()})),r()||E(m,!1)});var z=Oe(),U=Pe(z);{var L=I=>{var h=Pn();h.__click=g=>g.stopPropagation();var A=p(h),x=p(A);x.__click=()=>w();var V=f(x,2);{var B=g=>{var _=xn();F(g,_)};Y(V,g=>{e.items.length>0&&g(B)})}var q=f(V,2);ke(q,17,()=>e.items,xe,(g,_)=>{var v=Fn(),C=p(v);ie(C),C.__change=()=>l(i(_));var T=f(C,2),S=p(T,!0);c(T),c(v),Z((P,b)=>{fe(v,1,`uno-sxy2vd ${P??""}`,"svelte-ytt77r"),Ut(C,b),X(S,i(_).groupName)},[()=>u(i(_))?"uno-95ezdi":"",()=>u(i(_))]),F(g,v)});var N=f(q,2);{var y=g=>{var _=Cn();F(g,_)};Y(N,g=>{e.items.length===0&&g(y)})}c(A),c(h),He(h,g=>E(a,g),()=>i(a)),Z(()=>{fe(h,1,Ne(["uno-q4fwa4",s()]),"svelte-ytt77r"),qe(h,`top: ${i(o).top??""}px; left: ${i(o).left??""}px; width: ${i(o).width??""}px;`),fe(x,1,`uno-nxuxc4 ${t()===null||t().length===0?"uno-tjbjo6":""}`,"svelte-ytt77r")}),F(I,h)};Y(U,I=>{r()&&i(o)&&I(L)})}F(n,z),ue()}he(["click","change"]);var Rn=O("<div><!></div>"),zn=O('<p class="uno-o2ql0b"> </p>'),On=O('<p class="uno-6y7fk7">No group</p>'),jn=O('<div><!> <button type="button" class="uno-f23sus" aria-label="Edit groups"><!></button></div>');function Ft(n,e){le(e,!0);const t=Be(Ye);if(!t)throw new Error("TargetingEditableGroup must be used within a component that provides TargetingState context");const r=be(()=>t.availableScanGroups);let s=ee(e,"groups",15,null),a=G(!1),o=G(null),d=G(!1),l=G(null),u=G(null),w=G(null);function m(){e.chapter&&e.fieldName&&!e.chapter.manuallyEditedFields.has(e.fieldName)&&(e.chapter.originalFieldValues.has(e.fieldName)||e.chapter.originalFieldValues.set(e.fieldName,s().groupIds?[...s().groupIds]:null)),i(u)&&E(w,i(u).getBoundingClientRect(),!0),s().groupIds?E(o,s().groupIds.map(N=>i(r).find(y=>y.groupId===N)).filter(N=>N!==void 0),!0):E(o,[],!0),E(a,!0),E(d,!0),window.addEventListener("keydown",L)}function z(){E(a,!1),E(d,!1),E(w,null),window.removeEventListener("keydown",L),s(s().groupIds=i(o)?.map(N=>N.groupId)??[],!0),e.chapter&&e.fieldName&&e.chapter.manuallyEditedFields.add(e.fieldName)}function U(){z()}function L(N){N.key==="Escape"&&z()}var I=jn(),h=p(I);{var A=N=>{var y=Rn();y.__click=_=>_.stopPropagation();var g=p(y);An(g,{get items(){return i(r)},onClose:U,get buttonRect(){return i(w)},get selectedItems(){return i(o)},set selectedItems(_){E(o,_,!0)},get isOpen(){return i(d)},set isOpen(_){E(d,_,!0)}}),c(y),He(y,_=>E(l,_),()=>i(l)),F(N,y)};Y(h,N=>{i(a)&&N(A)})}var x=f(h,2);x.__click=N=>{N.stopPropagation(),m()};var V=p(x);{var B=N=>{var y=zn(),g=p(y,!0);c(y),Z(_=>X(g,_),[()=>s().groupIds.map(_=>i(r).find(C=>C.groupId===_)?.groupName??_).join(", ")]),F(N,y)},q=N=>{var y=On();F(N,y)};Y(V,N=>{s().groupIds&&s().groupIds.length>0?N(B):N(q,!1)})}c(x),He(x,N=>E(u,N),()=>i(u)),c(I),F(n,I),ue()}he(["click"]);function Vn(n){return{en:"gb",af:"za",sq:"al",ar:"sa",az:"az",eu:"es",be:"by",bn:"bd",bg:"bg",my:"mm",ca:"es",zh:"cn","zh-hk":"hk",cv:"ru",hr:"hr",cs:"cz",da:"dk",nl:"nl",eo:"eo",et:"ee",tl:"ph",fi:"fi",fr:"fr",ka:"ge",de:"de",el:"gr",he:"il",hi:"in",hu:"hu",id:"id",jv:"id",ga:"ie",it:"it",ja:"jp",kk:"kz",ko:"kr",la:"va",lt:"lt",ms:"my",mn:"mn",ne:"np",no:"no",fa:"ir",pl:"pl",pt:"pt","pt-br":"br",ro:"ro",ru:"ru",sr:"rs",sk:"sk",sl:"si",es:"es","es-la":"mx",sv:"se",tam:"in",te:"in",th:"th",tr:"tr",uk:"ua",ur:"pk",uz:"uz",vi:"vn"}[n]||n}function Gn(n){if(n==="eo")return"ðŸŒ";const e=n.toUpperCase().split("").map(t=>127397+t.charCodeAt(0));return String.fromCodePoint(...e)}function Ln(n){const e=Vn(n);return Gn(e)}function Ct(n){return`${Ln(n.id)} ${n.name}`}const $e=[{id:"en",name:"English"},{id:"af",name:"Afrikaans"},{id:"sq",name:"Albanian"},{id:"ar",name:"Arabic"},{id:"az",name:"Azerbaijani"},{id:"eu",name:"Basque"},{id:"be",name:"Belarusian"},{id:"bn",name:"Bengali"},{id:"bg",name:"Bulgarian"},{id:"my",name:"Burmese"},{id:"ca",name:"Catalan"},{id:"zh",name:"Chinese (Simplified)"},{id:"zh-hk",name:"Chinese (Traditional)"},{id:"cv",name:"Chuvash"},{id:"hr",name:"Croatian"},{id:"cs",name:"Czech"},{id:"da",name:"Danish"},{id:"nl",name:"Dutch"},{id:"eo",name:"Esperanto"},{id:"et",name:"Estonian"},{id:"tl",name:"Filipino"},{id:"fi",name:"Finish"},{id:"fr",name:"French"},{id:"ka",name:"Georgian"},{id:"de",name:"German"},{id:"el",name:"Greek"},{id:"he",name:"Hebrew"},{id:"hi",name:"Hindi"},{id:"hu",name:"Hungarian"},{id:"id",name:"Indonesian"},{id:"jv",name:"Javanese"},{id:"ga",name:"Irish"},{id:"it",name:"Italian"},{id:"ja",name:"Japanese"},{id:"kk",name:"Kazakh"},{id:"ko",name:"Korean"},{id:"la",name:"Latin"},{id:"lt",name:"Lithuanian"},{id:"ms",name:"Malay"},{id:"mn",name:"Mongolian"},{id:"ne",name:"Nepali"},{id:"no",name:"Norwegian"},{id:"fa",name:"Persian"},{id:"pl",name:"Polish"},{id:"pt",name:"Portuguese"},{id:"pt-br",name:"Portuguese (Brazil)"},{id:"ro",name:"Romanian"},{id:"ru",name:"Russian"},{id:"sr",name:"Serbian"},{id:"sk",name:"Slovak"},{id:"sl",name:"Slovenian"},{id:"es",name:"Spanish"},{id:"es-la",name:"Spanish (LATAM)"},{id:"sv",name:"Swedish"},{id:"tam",name:"Tamil"},{id:"te",name:"Telugu"},{id:"th",name:"Thai"},{id:"tr",name:"Turkish"},{id:"uk",name:"Ukranian"},{id:"ur",name:"Urdu"},{id:"uz",name:"Uzbek"},{id:"vi",name:"Vietnamese"}];var Mn=O('<button type="button" class="uno-erk55q" title="Revert manual edit"><div class="uno-jugmv0"></div></button>'),Un=O('<button type="button" class="uno-erk55q" title="Revert manual edit"><div class="uno-jugmv0"></div></button>'),qn=O('<button type="button" class="uno-erk55q" title="Revert manual edit"><div class="uno-jugmv0"></div></button>'),Bn=O('<button type="button" class="uno-erk55q" title="Revert manual edit"><div class="uno-jugmv0"></div></button>'),Hn=O('<button type="button" class="uno-erk55q" title="Revert manual edit"><div class="uno-jugmv0"></div></button>'),Yn=O('<div class="uno-ax06g0"></div>'),Kn=O('<div class="uno-d9abuh"></div>'),Wn=O('<div aria-label="Collapse" class="uno-wx2jg6"></div>'),Zn=O('<div aria-label="Expand" class="uno-op2jdb"></div>'),Xn=O('<div class="uno-rw00hm"><!></div>'),Jn=O('<div><div class="uno-e2gvxs"><div class="uno-j7zfdb"><div class="uno-h58bnc"><span class="uno-54xv4y"> </span> <div class="uno-h58bnc"><span class="uno-vv4s5f">Vol.</span> <!> <!></div> <div class="uno-h58bnc"><span class="uno-vv4s5f">Ch.</span> <!> <!></div> <div class="uno-h58bnc"><span class="uno-vv4s5f">Groups:</span> <!> <!></div></div> <div class="uno-h58bnc"><span class="uno-vv4s5f">Original:</span> <p class="uno-vv4s5f"> </p></div> <div class="uno-h58bnc"><span class="uno-vv4s5f">Title:</span> <!> <!></div> <div class="uno-h58bnc"><span class="uno-vv4s5f">Language:</span> <!> <!></div></div> <button type="button" class="uno-khevc7" title="Delete chapter"><!></button> <button type="button" class="uno-as3ag3"><!></button></div> <!></div>');function Qn(n,e){if(le(e,!0),!Be(Ye))throw new Error("TargetedChapterEditor must be used within a component that provides TargetingState context");const r=ee(e,"chapter",15);let s=G(!1),a=G(!1);Ee(()=>{!i(a)&&r()&&(r().originalFieldValues.has("language")||r().originalFieldValues.set("language",r().language),E(a,!0))}),Ee(()=>{if(i(a)&&r()&&r().originalFieldValues.has("language")){const R=r().originalFieldValues.get("language");r().language!==R&&!r().manuallyEditedFields.has("language")&&r().manuallyEditedFields.add("language")}});function o(){E(s,!i(s))}function d(R){if(r().originalFieldValues.has(R)){const M=r().originalFieldValues.get(R);R==="title"?r(r().chapterTitle=M,!0):R==="volume"?r(r().chapterVolume=M,!0):R==="chapterNumber"?r(r().chapterNumber=M,!0):R==="groups"?r(r().associatedGroup.groupIds=M?[...M]:null,!0):R==="language"&&r(r().language=M,!0),r().manuallyEditedFields.delete(R),r().originalFieldValues.delete(R)}}function l(){r(r().isDeleted=!r().isDeleted,!0)}var u=Jn(),w=p(u),m=p(w),z=p(m),U=p(z),L=p(U);c(U);var I=f(U,2),h=f(p(I),2);it(h,{textClass:"text-sm text-muted",fieldName:"volume",get chapter(){return r()},get value(){return r().chapterVolume},set value(R){r(r().chapterVolume=R,!0)}});var A=f(h,2);{var x=R=>{var M=Mn();M.__click=te=>{te.stopPropagation(),d("volume")},F(R,M)};Y(A,R=>{r().manuallyEditedFields.has("volume")&&R(x)})}c(I);var V=f(I,2),B=f(p(V),2);it(B,{textClass:"text-sm text-muted",fieldName:"chapterNumber",get chapter(){return r()},get value(){return r().chapterNumber},set value(R){r(r().chapterNumber=R,!0)}});var q=f(B,2);{var N=R=>{var M=Un();M.__click=te=>{te.stopPropagation(),d("chapterNumber")},F(R,M)};Y(q,R=>{r().manuallyEditedFields.has("chapterNumber")&&R(N)})}c(V);var y=f(V,2),g=f(p(y),2);Ft(g,{fieldName:"groups",get chapter(){return r()},get groups(){return r().associatedGroup},set groups(R){r(r().associatedGroup=R,!0)}});var _=f(g,2);{var v=R=>{var M=qn();M.__click=te=>{te.stopPropagation(),d("groups")},F(R,M)};Y(_,R=>{r().manuallyEditedFields.has("groups")&&R(v)})}c(y),c(z);var C=f(z,2),T=f(p(C),2),S=p(T,!0);c(T),c(C);var P=f(C,2),b=f(p(P),2);it(b,{class:"",textClass:"text-xl font-bold text-app",fieldName:"title",get chapter(){return r()},get value(){return r().chapterTitle},set value(R){r(r().chapterTitle=R,!0)}});var j=f(b,2);{var H=R=>{var M=Bn();M.__click=te=>{te.stopPropagation(),d("title")},F(R,M)};Y(j,R=>{r().manuallyEditedFields.has("title")&&R(H)})}c(P);var K=f(P,2),J=f(p(K),2);{let R=be(()=>$e.map(M=>M.id));Qe(J,{get items(){return i(R)},getDisplayText:M=>{const te=$e.find(Ae=>Ae.id===M);return te?Ct(te):M},class:"uno-6nex0u",get selectedItem(){return r().language},set selectedItem(M){r(r().language=M,!0)}})}var ae=f(J,2);{var W=R=>{var M=Hn();M.__click=te=>{te.stopPropagation(),d("language")},F(R,M)};Y(ae,R=>{r().manuallyEditedFields.has("language")&&R(W)})}c(K),c(m);var $=f(m,2);$.__click=l;var de=p($);{var re=R=>{var M=Yn();F(R,M)},ce=R=>{var M=Kn();F(R,M)};Y(de,R=>{r().isDeleted?R(re):R(ce,!1)})}c($);var we=f($,2);we.__click=o;var Le=p(we);{var Ke=R=>{var M=Wn();F(R,M)},Fe=R=>{var M=Zn();F(R,M)};Y(Le,R=>{i(s)?R(Ke):R(Fe,!1)})}c(we),c(w);var Ie=f(w,2);{var Se=R=>{var M=Xn(),te=p(M);kn(te,{get pages(){return r().pages},set pages(Ae){r(r().pages=Ae,!0)}}),c(M),F(R,M)};Y(Ie,R=>{i(s)&&R(Se)})}c(u),Z(()=>{fe(u,1,Ne(["uno-gqkv0r",e.class])),X(L,`${e.index+1}.`),X(S,r().originalFolderPath)}),F(n,u),ue()}he(["click"]);var $n=O('<div class="uno-am3dzj"><p>Range:</p> <input type="number" placeholder="Start" class="uno-bp9lvd"/> <p>to</p> <input type="number" placeholder="End" class="uno-bp9lvd"/></div>');function Me(n,e){le(e,!0);let t=ee(e,"rangeStart",15,null),r=ee(e,"rangeEnd",15,null);Ee(()=>{t()!==null&&r()!==null&&r()<t()&&r(t())});var s=$n(),a=f(p(s),2);ie(a);var o=f(a,4);ie(o),c(s),Z((d,l)=>{je(a,"min",e.min),je(a,"max",d),je(o,"min",l),je(o,"max",e.max)},[()=>r()!==null?Math.min(e.max,r()):e.max,()=>t()!==null?Math.max(e.min,t()):e.min]),Te(a,t),Te(o,r),F(n,s),ue()}var Dn=O(`<div class="uno-hv8hef"><p class="uno-nt4u1e">Here you have the ability to batch apply changes to all chapters at once. <br/> For title / volume / chapter number extraction, Regex is used, where the first capture group will
		be used to set the value. You can use as many non-capturing groups as you want, and they will be
		ignored. <br/> Should batch editing not be enough, you can manually edit each chapter property individually by clicking
		on it, including removing pages (click on a chapter and it'll expand to show the pages). <br/> You are also able to assign groups to chapters, but for this you first need to register them with
		Group Preparation above. <br/> Groups will be applied to all chapters by default, or to the range if specified (values are inclusive) <br/> Some regexes are prefilled for you, but you can change them for your specific needs.</p> <div class="uno-iuzx0s"><p class="uno-tfn8jv">Quick unfuckup actions:</p> <button type="button" class="uno-c8n574">Clear Titles</button> <button type="button" class="uno-c8n574">Reset Titles</button></div> <form class="uno-vr0h6j"><div class="uno-6patty"><p class="uno-tfn8jv">Extract Title Regex:</p> <input type="text" placeholder="^(.+?)\\s+-\\s+Vol" class="uno-d22hha"/></div> <div class="uno-3lkpn9"><label class="uno-yrku2g"><input type="checkbox" class="uno-0xzuhw"/> <span class="uno-nt4u1e">Case Sensitive</span></label> <!> <button type="submit" class="uno-160w63">Apply</button></div></form> <form class="uno-vr0h6j"><div class="uno-6patty"><p class="uno-tfn8jv">Extract Volume Regex:</p> <input type="text" placeholder="Vol\\.? ?(\\d+)" class="uno-d22hha"/></div> <div class="uno-3lkpn9"><label class="uno-yrku2g"><input type="checkbox" class="uno-0xzuhw"/> <span class="uno-nt4u1e">Case Sensitive</span></label> <!> <button type="submit" class="uno-160w63">Apply</button></div></form> <form class="uno-vr0h6j"><div class="uno-6patty"><p class="uno-tfn8jv">Extract Chapter Number Regex:</p> <input type="text" placeholder="Ch\\.? ?(\\d+)" class="uno-d22hha"/></div> <div class="uno-3lkpn9"><label class="uno-yrku2g"><input type="checkbox" class="uno-0xzuhw"/> <span class="uno-nt4u1e">Case Sensitive</span></label> <!> <button type="submit" class="uno-160w63">Apply</button></div></form> <form class="uno-vr0h6j"><div class="uno-3lkpn9"><p class="uno-tfn8jv">Assign Volume to All Chapters:</p> <input type="text" placeholder="Volume number" class="uno-gz6zwy"/></div> <div class="uno-3lkpn9"><!> <button type="submit" class="uno-160w63">Apply</button></div></form> <form class="uno-vr0h6j"><div class="uno-3lkpn9"><p class="uno-tfn8jv">Assign Language to All Chapters:</p> <!></div> <div class="uno-3lkpn9"><!> <button type="submit" class="uno-160w63">Apply</button></div></form> <form class="uno-vr0h6j"><div class="uno-h5li09"><p class="uno-tfn8jv">Assign Groups to All Chapters:</p> <!></div> <div class="uno-3lkpn9"><!> <button type="submit" class="uno-160w63">Set Group(s)</button> <button type="button" class="uno-160w63">Append Group(s)</button></div></form></div>`);function er(n,e){le(e,!0);let t=ee(e,"chapters",27,()=>ye([])),r=G("- (.+)$"),s=G(!1),a=G("Vol\\.? ?(\\d+)"),o=G(!1),d=G("(?:Ch\\.?|Chapter) ?(\\d+(?:\\.\\d+)?)"),l=G(!1),u=G(ye(new lt)),w=G(null),m=G("en");const z=ye({start:null,end:null}),U=ye({start:null,end:null}),L=ye({start:null,end:null}),I=ye({start:null,end:null}),h=ye({start:null,end:null}),A=ye({start:null,end:null});function x(){if(!i(r).trim())return;const k=i(s)?"":"i",se=new RegExp(i(r),k),oe=(I.start??1)-1,D=(I.end??t().length)-1;for(let Q=oe;Q<=D;Q++){const pe=t()[Q];if(!pe.originalFolderPath||pe.manuallyEditedFields.has("title"))continue;const _e=pe.originalFolderPath.match(se);_e&&_e[1]&&(pe.chapterTitle=_e[1])}}function V(){if(!i(a).trim())return;const k=i(o)?"":"i",se=new RegExp(i(a),k),oe=(h.start??1)-1,D=(h.end??t().length)-1;for(let Q=oe;Q<=D;Q++){const pe=t()[Q];if(!pe.originalFolderPath||pe.manuallyEditedFields.has("volume"))continue;const _e=pe.originalFolderPath.match(se);_e&&_e[1]&&(pe.chapterVolume=_e[1].replace(/^0+/,""))}}function B(){if(!i(d).trim())return;const k=i(l)?"":"i",se=new RegExp(i(d),k),oe=(A.start??1)-1,D=(A.end??t().length)-1;for(let Q=oe;Q<=D;Q++){const pe=t()[Q];if(!pe.originalFolderPath||pe.manuallyEditedFields.has("chapterNumber"))continue;const _e=pe.originalFolderPath.match(se);_e&&_e[1]&&(pe.chapterNumber=_e[1].replace(/^0+/,""))}}function q(){t().forEach(k=>{k.manuallyEditedFields.has("title")||(k.chapterTitle=k.originalFolderPath?.split("/").pop()??"")})}function N(){t().forEach(k=>{k.manuallyEditedFields.has("title")||(k.chapterTitle="")})}function y(){const k=(z.start??1)-1,se=(z.end??t().length)-1,oe=i(u).groupIds??[];for(let D=k;D<=se;D++){const Q=t()[D];Q.manuallyEditedFields.has("groups")||(Q.associatedGroup.groupIds=[...oe])}}function g(){const k=(z.start??1)-1,se=(z.end??t().length)-1,oe=i(u).groupIds??[];for(let D=k;D<=se;D++){const Q=t()[D];if(Q.manuallyEditedFields.has("groups"))continue;const _e=[...Q.associatedGroup.groupIds??[],...oe],Mt=[...new Set(_e)];Q.associatedGroup.groupIds=Mt}}function _(){const k=(U.start??1)-1,se=(U.end??t().length)-1,oe=i(w)?.trim()||null;for(let D=k;D<=se;D++){const Q=t()[D];Q.manuallyEditedFields.has("volume")||(Q.chapterVolume=oe)}}function v(){const k=(L.start??1)-1,se=(L.end??t().length)-1,oe=i(m)?.trim()||"en";for(let D=k;D<=se;D++){const Q=t()[D];Q.manuallyEditedFields.has("language")||(Q.originalFieldValues.set("language",oe),Q.language=oe,Q.manuallyEditedFields.delete("language"))}}var C=Dn(),T=f(p(C),2),S=f(p(T),2);S.__click=N;var P=f(S,2);P.__click=q,c(T);var b=f(T,2),j=p(b),H=f(p(j),2);ie(H),c(j);var K=f(j,2),J=p(K),ae=p(J);ie(ae),ge(2),c(J);var W=f(J,2);Me(W,{min:1,get max(){return t().length},get rangeStart(){return I.start},set rangeStart(k){I.start=k},get rangeEnd(){return I.end},set rangeEnd(k){I.end=k}}),ge(2),c(K),c(b);var $=f(b,2),de=p($),re=f(p(de),2);ie(re),c(de);var ce=f(de,2),we=p(ce),Le=p(we);ie(Le),ge(2),c(we);var Ke=f(we,2);Me(Ke,{min:1,get max(){return t().length},get rangeStart(){return h.start},set rangeStart(k){h.start=k},get rangeEnd(){return h.end},set rangeEnd(k){h.end=k}}),ge(2),c(ce),c($);var Fe=f($,2),Ie=p(Fe),Se=f(p(Ie),2);ie(Se),c(Ie);var R=f(Ie,2),M=p(R),te=p(M);ie(te),ge(2),c(M);var Ae=f(M,2);Me(Ae,{min:1,get max(){return t().length},get rangeStart(){return A.start},set rangeStart(k){A.start=k},get rangeEnd(){return A.end},set rangeEnd(k){A.end=k}}),ge(2),c(R),c(Fe);var Xe=f(Fe,2),tt=p(Xe),ft=f(p(tt),2);ie(ft),c(tt);var pt=f(tt,2),Ot=p(pt);Me(Ot,{min:1,get max(){return t().length},get rangeStart(){return U.start},set rangeStart(k){U.start=k},get rangeEnd(){return U.end},set rangeEnd(k){U.end=k}}),ge(2),c(pt),c(Xe);var Je=f(Xe,2),nt=p(Je),jt=f(p(nt),2);{let k=be(()=>$e.map(se=>se.id));Qe(jt,{get items(){return i(k)},getDisplayText:se=>{const oe=$e.find(D=>D.id===se);return oe?Ct(oe):se},class:"uno-c18fgf",get selectedItem(){return i(m)},set selectedItem(se){E(m,se,!0)}})}c(nt);var vt=f(nt,2),Vt=p(vt);Me(Vt,{min:1,get max(){return t().length},get rangeStart(){return L.start},set rangeStart(k){L.start=k},get rangeEnd(){return L.end},set rangeEnd(k){L.end=k}}),ge(2),c(vt),c(Je);var rt=f(Je,2),st=p(rt),Gt=f(p(st),2);Ft(Gt,{get groups(){return i(u)},set groups(k){E(u,k,!0)}}),c(st);var gt=f(st,2),ht=p(gt);Me(ht,{min:1,get max(){return t().length},get rangeStart(){return z.start},set rangeStart(k){z.start=k},get rangeEnd(){return z.end},set rangeEnd(k){z.end=k}});var Lt=f(ht,4);Lt.__click=g,c(gt),c(rt),c(C),Ce("submit",b,k=>{x(),k.preventDefault()}),Te(H,()=>i(r),k=>E(r,k)),Ge(ae,()=>i(s),k=>E(s,k)),Ce("submit",$,k=>{V(),k.preventDefault()}),Te(re,()=>i(a),k=>E(a,k)),Ge(Le,()=>i(o),k=>E(o,k)),Ce("submit",Fe,k=>{B(),k.preventDefault()}),Te(Se,()=>i(d),k=>E(d,k)),Ge(te,()=>i(l),k=>E(l,k)),Ce("submit",Xe,k=>{_(),k.preventDefault()}),Te(ft,()=>i(w),k=>E(w,k)),Ce("submit",Je,k=>{v(),k.preventDefault()}),Ce("submit",rt,k=>{y(),k.preventDefault()}),F(n,C),ue()}he(["click"]);const Pt=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",tr=Pt+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",nr="["+Pt+"]["+tr+"]*",rr=new RegExp("^"+nr+"$");function At(n,e){const t=[];let r=e.exec(n);for(;r;){const s=[];s.startIndex=e.lastIndex-r[0].length;const a=r.length;for(let o=0;o<a;o++)s.push(r[o]);t.push(s),r=e.exec(n)}return t}const et=function(n){const e=rr.exec(n);return!(e===null||typeof e>"u")};function sr(n){return typeof n<"u"}const ar={allowBooleanAttributes:!1,unpairedTags:[]};function ir(n,e){e=Object.assign({},ar,e);const t=[];let r=!1,s=!1;n[0]==="\uFEFF"&&(n=n.substr(1));for(let a=0;a<n.length;a++)if(n[a]==="<"&&n[a+1]==="?"){if(a+=2,a=Nt(n,a),a.err)return a}else if(n[a]==="<"){let o=a;if(a++,n[a]==="!"){a=Tt(n,a);continue}else{let d=!1;n[a]==="/"&&(d=!0,a++);let l="";for(;a<n.length&&n[a]!==">"&&n[a]!==" "&&n[a]!=="	"&&n[a]!==`
`&&n[a]!=="\r";a++)l+=n[a];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),a--),!vr(l)){let m;return l.trim().length===0?m="Invalid space after '<'.":m="Tag '"+l+"' is an invalid name.",ne("InvalidTag",m,ve(n,a))}const u=ur(n,a);if(u===!1)return ne("InvalidAttr","Attributes for '"+l+"' have open quote.",ve(n,a));let w=u.value;if(a=u.index,w[w.length-1]==="/"){const m=a-w.length;w=w.substring(0,w.length-1);const z=St(w,e);if(z===!0)r=!0;else return ne(z.err.code,z.err.msg,ve(n,m+z.err.line))}else if(d)if(u.tagClosed){if(w.trim().length>0)return ne("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",ve(n,o));if(t.length===0)return ne("InvalidTag","Closing tag '"+l+"' has not been opened.",ve(n,o));{const m=t.pop();if(l!==m.tagName){let z=ve(n,m.tagStartPos);return ne("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+z.line+", col "+z.col+") instead of closing tag '"+l+"'.",ve(n,o))}t.length==0&&(s=!0)}}else return ne("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",ve(n,a));else{const m=St(w,e);if(m!==!0)return ne(m.err.code,m.err.msg,ve(n,a-w.length+m.err.line));if(s===!0)return ne("InvalidXml","Multiple possible root nodes found.",ve(n,a));e.unpairedTags.indexOf(l)!==-1||t.push({tagName:l,tagStartPos:o}),r=!0}for(a++;a<n.length;a++)if(n[a]==="<")if(n[a+1]==="!"){a++,a=Tt(n,a);continue}else if(n[a+1]==="?"){if(a=Nt(n,++a),a.err)return a}else break;else if(n[a]==="&"){const m=fr(n,a);if(m==-1)return ne("InvalidChar","char '&' is not expected.",ve(n,a));a=m}else if(s===!0&&!It(n[a]))return ne("InvalidXml","Extra text at the end",ve(n,a));n[a]==="<"&&a--}}else{if(It(n[a]))continue;return ne("InvalidChar","char '"+n[a]+"' is not expected.",ve(n,a))}if(r){if(t.length==1)return ne("InvalidTag","Unclosed tag '"+t[0].tagName+"'.",ve(n,t[0].tagStartPos));if(t.length>0)return ne("InvalidXml","Invalid '"+JSON.stringify(t.map(a=>a.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ne("InvalidXml","Start tag expected.",1);return!0}function It(n){return n===" "||n==="	"||n===`
`||n==="\r"}function Nt(n,e){const t=e;for(;e<n.length;e++)if(n[e]=="?"||n[e]==" "){const r=n.substr(t,e-t);if(e>5&&r==="xml")return ne("InvalidXml","XML declaration allowed only at the start of the document.",ve(n,e));if(n[e]=="?"&&n[e+1]==">"){e++;break}else continue}return e}function Tt(n,e){if(n.length>e+5&&n[e+1]==="-"&&n[e+2]==="-"){for(e+=3;e<n.length;e++)if(n[e]==="-"&&n[e+1]==="-"&&n[e+2]===">"){e+=2;break}}else if(n.length>e+8&&n[e+1]==="D"&&n[e+2]==="O"&&n[e+3]==="C"&&n[e+4]==="T"&&n[e+5]==="Y"&&n[e+6]==="P"&&n[e+7]==="E"){let t=1;for(e+=8;e<n.length;e++)if(n[e]==="<")t++;else if(n[e]===">"&&(t--,t===0))break}else if(n.length>e+9&&n[e+1]==="["&&n[e+2]==="C"&&n[e+3]==="D"&&n[e+4]==="A"&&n[e+5]==="T"&&n[e+6]==="A"&&n[e+7]==="["){for(e+=8;e<n.length;e++)if(n[e]==="]"&&n[e+1]==="]"&&n[e+2]===">"){e+=2;break}}return e}const or='"',lr="'";function ur(n,e){let t="",r="",s=!1;for(;e<n.length;e++){if(n[e]===or||n[e]===lr)r===""?r=n[e]:r!==n[e]||(r="");else if(n[e]===">"&&r===""){s=!0;break}t+=n[e]}return r!==""?!1:{value:t,index:e,tagClosed:s}}const dr=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function St(n,e){const t=At(n,dr),r={};for(let s=0;s<t.length;s++){if(t[s][1].length===0)return ne("InvalidAttr","Attribute '"+t[s][2]+"' has no space in starting.",We(t[s]));if(t[s][3]!==void 0&&t[s][4]===void 0)return ne("InvalidAttr","Attribute '"+t[s][2]+"' is without value.",We(t[s]));if(t[s][3]===void 0&&!e.allowBooleanAttributes)return ne("InvalidAttr","boolean attribute '"+t[s][2]+"' is not allowed.",We(t[s]));const a=t[s][2];if(!pr(a))return ne("InvalidAttr","Attribute '"+a+"' is an invalid name.",We(t[s]));if(!r.hasOwnProperty(a))r[a]=1;else return ne("InvalidAttr","Attribute '"+a+"' is repeated.",We(t[s]))}return!0}function cr(n,e){let t=/\d/;for(n[e]==="x"&&(e++,t=/[\da-fA-F]/);e<n.length;e++){if(n[e]===";")return e;if(!n[e].match(t))break}return-1}function fr(n,e){if(e++,n[e]===";")return-1;if(n[e]==="#")return e++,cr(n,e);let t=0;for(;e<n.length;e++,t++)if(!(n[e].match(/\w/)&&t<20)){if(n[e]===";")break;return-1}return e}function ne(n,e,t){return{err:{code:n,msg:e,line:t.line||t,col:t.col}}}function pr(n){return et(n)}function vr(n){return et(n)}function ve(n,e){const t=n.substring(0,e).split(/\r?\n/);return{line:t.length,col:t[t.length-1].length+1}}function We(n){return n.startIndex+n[1].length}const gr={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(n,e){return e},attributeValueProcessor:function(n,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(n,e,t){return n},captureMetaData:!1},hr=function(n){return Object.assign({},gr,n)};let De;typeof Symbol!="function"?De="@@xmlMetadata":De=Symbol("XML Node Metadata");class ze{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e,t){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),t!==void 0&&(this.child[this.child.length-1][De]={startIndex:t})}static getMetaDataSymbol(){return De}}class mr{constructor(e){this.suppressValidationErr=!e}readDocType(e,t){const r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let s=1,a=!1,o=!1,d="";for(;t<e.length;t++)if(e[t]==="<"&&!o){if(a&&Re(e,"!ENTITY",t)){t+=7;let l,u;[l,u,t]=this.readEntityExp(e,t+1,this.suppressValidationErr),u.indexOf("&")===-1&&(r[l]={regx:RegExp(`&${l};`,"g"),val:u})}else if(a&&Re(e,"!ELEMENT",t)){t+=8;const{index:l}=this.readElementExp(e,t+1);t=l}else if(a&&Re(e,"!ATTLIST",t))t+=8;else if(a&&Re(e,"!NOTATION",t)){t+=9;const{index:l}=this.readNotationExp(e,t+1,this.suppressValidationErr);t=l}else if(Re(e,"!--",t))o=!0;else throw new Error("Invalid DOCTYPE");s++,d=""}else if(e[t]===">"){if(o?e[t-1]==="-"&&e[t-2]==="-"&&(o=!1,s--):s--,s===0)break}else e[t]==="["?a=!0:d+=e[t];if(s!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}readEntityExp(e,t){t=me(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(Ze(r),t=me(e,t),!this.suppressValidationErr){if(e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported")}let s="";return[t,s]=this.readIdentifierVal(e,t,"entity"),t--,[r,s,t]}readNotationExp(e,t){t=me(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;!this.suppressValidationErr&&Ze(r),t=me(e,t);const s=e.substring(t,t+6).toUpperCase();if(!this.suppressValidationErr&&s!=="SYSTEM"&&s!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${s}"`);t+=s.length,t=me(e,t);let a=null,o=null;if(s==="PUBLIC")[t,a]=this.readIdentifierVal(e,t,"publicIdentifier"),t=me(e,t),(e[t]==='"'||e[t]==="'")&&([t,o]=this.readIdentifierVal(e,t,"systemIdentifier"));else if(s==="SYSTEM"&&([t,o]=this.readIdentifierVal(e,t,"systemIdentifier"),!this.suppressValidationErr&&!o))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:a,systemIdentifier:o,index:--t}}readIdentifierVal(e,t,r){let s="";const a=e[t];if(a!=='"'&&a!=="'")throw new Error(`Expected quoted string, found "${a}"`);for(t++;t<e.length&&e[t]!==a;)s+=e[t],t++;if(e[t]!==a)throw new Error(`Unterminated ${r} value`);return t++,[t,s]}readElementExp(e,t){t=me(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!this.suppressValidationErr&&!et(r))throw new Error(`Invalid element name: "${r}"`);t=me(e,t);let s="";if(e[t]==="E"&&Re(e,"MPTY",t))t+=4;else if(e[t]==="A"&&Re(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)s+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else if(!this.suppressValidationErr)throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:s.trim(),index:t}}readAttlistExp(e,t){t=me(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;Ze(r),t=me(e,t);let s="";for(;t<e.length&&!/\s/.test(e[t]);)s+=e[t],t++;if(!Ze(s))throw new Error(`Invalid attribute name: "${s}"`);t=me(e,t);let a="";if(e.substring(t,t+8).toUpperCase()==="NOTATION"){if(a="NOTATION",t+=8,t=me(e,t),e[t]!=="(")throw new Error(`Expected '(', found "${e[t]}"`);t++;let d=[];for(;t<e.length&&e[t]!==")";){let l="";for(;t<e.length&&e[t]!=="|"&&e[t]!==")";)l+=e[t],t++;if(l=l.trim(),!Ze(l))throw new Error(`Invalid notation name: "${l}"`);d.push(l),e[t]==="|"&&(t++,t=me(e,t))}if(e[t]!==")")throw new Error("Unterminated list of notations");t++,a+=" ("+d.join("|")+")"}else{for(;t<e.length&&!/\s/.test(e[t]);)a+=e[t],t++;const d=["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"];if(!this.suppressValidationErr&&!d.includes(a.toUpperCase()))throw new Error(`Invalid attribute type: "${a}"`)}t=me(e,t);let o="";return e.substring(t,t+8).toUpperCase()==="#REQUIRED"?(o="#REQUIRED",t+=8):e.substring(t,t+7).toUpperCase()==="#IMPLIED"?(o="#IMPLIED",t+=7):[t,o]=this.readIdentifierVal(e,t,"ATTLIST"),{elementName:r,attributeName:s,attributeType:a,defaultValue:o,index:t}}}const me=(n,e)=>{for(;e<n.length&&/\s/.test(n[e]);)e++;return e};function Re(n,e,t){for(let r=0;r<e.length;r++)if(e[r]!==n[t+r+1])return!1;return!0}function Ze(n){if(et(n))return n;throw new Error(`Invalid entity name ${n}`)}const br=/^[-+]?0x[a-fA-F0-9]+$/,_r=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,yr={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Er(n,e={}){if(e=Object.assign({},yr,e),!n||typeof n!="string")return n;let t=n.trim();if(e.skipLike!==void 0&&e.skipLike.test(t))return n;if(n==="0")return 0;if(e.hex&&br.test(t))return Tr(t,16);if(t.search(/.+[eE].+/)!==-1)return Ir(n,t,e);{const r=_r.exec(t);if(r){const s=r[1]||"",a=r[2];let o=Nr(r[3]);const d=s?n[a.length+1]===".":n[a.length]===".";if(!e.leadingZeros&&(a.length>1||a.length===1&&!d))return n;{const l=Number(t),u=String(l);if(l===0)return l;if(u.search(/[eE]/)!==-1)return e.eNotation?l:n;if(t.indexOf(".")!==-1)return u==="0"||u===o||u===`${s}${o}`?l:n;let w=a?o:t;return a?w===u||s+w===u?l:n:w===u||w===s+u?l:n}}else return n}}const wr=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function Ir(n,e,t){if(!t.eNotation)return n;const r=e.match(wr);if(r){let s=r[1]||"";const a=r[3].indexOf("e")===-1?"E":"e",o=r[2],d=s?n[o.length+1]===a:n[o.length]===a;return o.length>1&&d?n:o.length===1&&(r[3].startsWith(`.${a}`)||r[3][0]===a)?Number(e):t.leadingZeros&&!d?(e=(r[1]||"")+r[3],Number(e)):n}else return n}function Nr(n){return n&&n.indexOf(".")!==-1&&(n=n.replace(/0+$/,""),n==="."?n="0":n[0]==="."?n="0"+n:n[n.length-1]==="."&&(n=n.substring(0,n.length-1))),n}function Tr(n,e){if(parseInt)return parseInt(n,e);if(Number.parseInt)return Number.parseInt(n,e);if(window&&window.parseInt)return window.parseInt(n,e);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function Sr(n){return typeof n=="function"?n:Array.isArray(n)?e=>{for(const t of n)if(typeof t=="string"&&e===t||t instanceof RegExp&&t.test(e))return!0}:()=>!1}class kr{constructor(e){if(this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"Â¢"},pound:{regex:/&(pound|#163);/g,val:"Â£"},yen:{regex:/&(yen|#165);/g,val:"Â¥"},euro:{regex:/&(euro|#8364);/g,val:"â‚¬"},copyright:{regex:/&(copy|#169);/g,val:"Â©"},reg:{regex:/&(reg|#174);/g,val:"Â®"},inr:{regex:/&(inr|#8377);/g,val:"â‚¹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(t,r)=>String.fromCodePoint(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(t,r)=>String.fromCodePoint(Number.parseInt(r,16))}},this.addExternalEntities=xr,this.parseXml=Rr,this.parseTextData=Fr,this.resolveNameSpace=Cr,this.buildAttributesMap=Ar,this.isItStopNode=Vr,this.replaceEntitiesValue=Or,this.readStopNodeData=Lr,this.saveTextToParentTag=jr,this.addChild=zr,this.ignoreAttributesFn=Sr(this.options.ignoreAttributes),this.options.stopNodes&&this.options.stopNodes.length>0){this.stopNodesExact=new Set,this.stopNodesWildcard=new Set;for(let t=0;t<this.options.stopNodes.length;t++){const r=this.options.stopNodes[t];typeof r=="string"&&(r.startsWith("*.")?this.stopNodesWildcard.add(r.substring(2)):this.stopNodesExact.add(r))}}}}function xr(n){const e=Object.keys(n);for(let t=0;t<e.length;t++){const r=e[t];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:n[r]}}}function Fr(n,e,t,r,s,a,o){if(n!==void 0&&(this.options.trimValues&&!r&&(n=n.trim()),n.length>0)){o||(n=this.replaceEntitiesValue(n));const d=this.options.tagValueProcessor(e,n,t,s,a);return d==null?n:typeof d!=typeof n||d!==n?d:this.options.trimValues?ct(n,this.options.parseTagValue,this.options.numberParseOptions):n.trim()===n?ct(n,this.options.parseTagValue,this.options.numberParseOptions):n}}function Cr(n){if(this.options.removeNSPrefix){const e=n.split(":"),t=n.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(n=t+e[1])}return n}const Pr=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Ar(n,e,t){if(this.options.ignoreAttributes!==!0&&typeof n=="string"){const r=At(n,Pr),s=r.length,a={};for(let o=0;o<s;o++){const d=this.resolveNameSpace(r[o][1]);if(this.ignoreAttributesFn(d,e))continue;let l=r[o][4],u=this.options.attributeNamePrefix+d;if(d.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),l!==void 0){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);const w=this.options.attributeValueProcessor(d,l,e);w==null?a[u]=l:typeof w!=typeof l||w!==l?a[u]=w:a[u]=ct(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(a[u]=!0)}if(!Object.keys(a).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=a,o}return a}}const Rr=function(n){n=n.replace(/\r\n?/g,`
`);const e=new ze("!xml");let t=e,r="",s="";const a=new mr(this.options.processEntities);for(let o=0;o<n.length;o++)if(n[o]==="<")if(n[o+1]==="/"){const l=Ve(n,">",o,"Closing Tag is not closed.");let u=n.substring(o+2,l).trim();if(this.options.removeNSPrefix){const z=u.indexOf(":");z!==-1&&(u=u.substr(z+1))}this.options.transformTagName&&(u=this.options.transformTagName(u)),t&&(r=this.saveTextToParentTag(r,t,s));const w=s.substring(s.lastIndexOf(".")+1);if(u&&this.options.unpairedTags.indexOf(u)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${u}>`);let m=0;w&&this.options.unpairedTags.indexOf(w)!==-1?(m=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):m=s.lastIndexOf("."),s=s.substring(0,m),t=this.tagsNodeStack.pop(),r="",o=l}else if(n[o+1]==="?"){let l=dt(n,o,!1,"?>");if(!l)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,t,s),!(this.options.ignoreDeclaration&&l.tagName==="?xml"||this.options.ignorePiTags)){const u=new ze(l.tagName);u.add(this.options.textNodeName,""),l.tagName!==l.tagExp&&l.attrExpPresent&&(u[":@"]=this.buildAttributesMap(l.tagExp,s,l.tagName)),this.addChild(t,u,s,o)}o=l.closeIndex+1}else if(n.substr(o+1,3)==="!--"){const l=Ve(n,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){const u=n.substring(o+4,l-2);r=this.saveTextToParentTag(r,t,s),t.add(this.options.commentPropName,[{[this.options.textNodeName]:u}])}o=l}else if(n.substr(o+1,2)==="!D"){const l=a.readDocType(n,o);this.docTypeEntities=l.entities,o=l.i}else if(n.substr(o+1,2)==="!["){const l=Ve(n,"]]>",o,"CDATA is not closed.")-2,u=n.substring(o+9,l);r=this.saveTextToParentTag(r,t,s);let w=this.parseTextData(u,t.tagname,s,!0,!1,!0,!0);w==null&&(w=""),this.options.cdataPropName?t.add(this.options.cdataPropName,[{[this.options.textNodeName]:u}]):t.add(this.options.textNodeName,w),o=l+2}else{let l=dt(n,o,this.options.removeNSPrefix),u=l.tagName;const w=l.rawTagName;let m=l.tagExp,z=l.attrExpPresent,U=l.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),t&&r&&t.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,t,s,!1));const L=t;L&&this.options.unpairedTags.indexOf(L.tagname)!==-1&&(t=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),u!==e.tagname&&(s+=s?"."+u:u);const I=o;if(this.isItStopNode(this.stopNodesExact,this.stopNodesWildcard,s,u)){let h="";if(m.length>0&&m.lastIndexOf("/")===m.length-1)u[u.length-1]==="/"?(u=u.substr(0,u.length-1),s=s.substr(0,s.length-1),m=u):m=m.substr(0,m.length-1),o=l.closeIndex;else if(this.options.unpairedTags.indexOf(u)!==-1)o=l.closeIndex;else{const x=this.readStopNodeData(n,w,U+1);if(!x)throw new Error(`Unexpected end of ${w}`);o=x.i,h=x.tagContent}const A=new ze(u);u!==m&&z&&(A[":@"]=this.buildAttributesMap(m,s,u)),h&&(h=this.parseTextData(h,u,s,!0,z,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),A.add(this.options.textNodeName,h),this.addChild(t,A,s,I)}else{if(m.length>0&&m.lastIndexOf("/")===m.length-1){u[u.length-1]==="/"?(u=u.substr(0,u.length-1),s=s.substr(0,s.length-1),m=u):m=m.substr(0,m.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));const h=new ze(u);u!==m&&z&&(h[":@"]=this.buildAttributesMap(m,s,u)),this.addChild(t,h,s,I),s=s.substr(0,s.lastIndexOf("."))}else{const h=new ze(u);this.tagsNodeStack.push(t),u!==m&&z&&(h[":@"]=this.buildAttributesMap(m,s,u)),this.addChild(t,h,s,I),t=h}r="",o=U}}else r+=n[o];return e.child};function zr(n,e,t,r){this.options.captureMetaData||(r=void 0);const s=this.options.updateTag(e.tagname,t,e[":@"]);s===!1||(typeof s=="string"&&(e.tagname=s),n.addChild(e,r))}const Or=function(n){if(this.options.processEntities){for(let e in this.docTypeEntities){const t=this.docTypeEntities[e];n=n.replace(t.regx,t.val)}for(let e in this.lastEntities){const t=this.lastEntities[e];n=n.replace(t.regex,t.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const t=this.htmlEntities[e];n=n.replace(t.regex,t.val)}n=n.replace(this.ampEntity.regex,this.ampEntity.val)}return n};function jr(n,e,t,r){return n&&(r===void 0&&(r=e.child.length===0),n=this.parseTextData(n,e.tagname,t,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),n!==void 0&&n!==""&&e.add(this.options.textNodeName,n),n=""),n}function Vr(n,e,t,r){return!!(e&&e.has(r)||n&&n.has(t))}function Gr(n,e,t=">"){let r,s="";for(let a=e;a<n.length;a++){let o=n[a];if(r)o===r&&(r="");else if(o==='"'||o==="'")r=o;else if(o===t[0])if(t[1]){if(n[a+1]===t[1])return{data:s,index:a}}else return{data:s,index:a};else o==="	"&&(o=" ");s+=o}}function Ve(n,e,t,r){const s=n.indexOf(e,t);if(s===-1)throw new Error(r);return s+e.length-1}function dt(n,e,t,r=">"){const s=Gr(n,e+1,r);if(!s)return;let a=s.data;const o=s.index,d=a.search(/\s/);let l=a,u=!0;d!==-1&&(l=a.substring(0,d),a=a.substring(d+1).trimStart());const w=l;if(t){const m=l.indexOf(":");m!==-1&&(l=l.substr(m+1),u=l!==s.data.substr(m+1))}return{tagName:l,tagExp:a,closeIndex:o,attrExpPresent:u,rawTagName:w}}function Lr(n,e,t){const r=t;let s=1;for(;t<n.length;t++)if(n[t]==="<")if(n[t+1]==="/"){const a=Ve(n,">",t,`${e} is not closed`);if(n.substring(t+2,a).trim()===e&&(s--,s===0))return{tagContent:n.substring(r,t),i:a};t=a}else if(n[t+1]==="?")t=Ve(n,"?>",t+1,"StopNode is not closed.");else if(n.substr(t+1,3)==="!--")t=Ve(n,"-->",t+3,"StopNode is not closed.");else if(n.substr(t+1,2)==="![")t=Ve(n,"]]>",t,"StopNode is not closed.")-2;else{const a=dt(n,t,">");a&&((a&&a.tagName)===e&&a.tagExp[a.tagExp.length-1]!=="/"&&s++,t=a.closeIndex)}}function ct(n,e,t){if(e&&typeof n=="string"){const r=n.trim();return r==="true"?!0:r==="false"?!1:Er(n,t)}else return sr(n)?n:""}const ot=ze.getMetaDataSymbol();function Mr(n,e){return Rt(n,e)}function Rt(n,e,t){let r;const s={};for(let a=0;a<n.length;a++){const o=n[a],d=Ur(o);let l="";if(t===void 0?l=d:l=t+"."+d,d===e.textNodeName)r===void 0?r=o[d]:r+=""+o[d];else{if(d===void 0)continue;if(o[d]){let u=Rt(o[d],e,l);const w=Br(u,e);o[ot]!==void 0&&(u[ot]=o[ot]),o[":@"]?qr(u,o[":@"],l,e):Object.keys(u).length===1&&u[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?u=u[e.textNodeName]:Object.keys(u).length===0&&(e.alwaysCreateTextNode?u[e.textNodeName]="":u=""),s[d]!==void 0&&s.hasOwnProperty(d)?(Array.isArray(s[d])||(s[d]=[s[d]]),s[d].push(u)):e.isArray(d,l,w)?s[d]=[u]:s[d]=u}}}return typeof r=="string"?r.length>0&&(s[e.textNodeName]=r):r!==void 0&&(s[e.textNodeName]=r),s}function Ur(n){const e=Object.keys(n);for(let t=0;t<e.length;t++){const r=e[t];if(r!==":@")return r}}function qr(n,e,t,r){if(e){const s=Object.keys(e),a=s.length;for(let o=0;o<a;o++){const d=s[o];r.isArray(d,t+"."+d,!0,!0)?n[d]=[e[d]]:n[d]=e[d]}}}function Br(n,e){const{textNodeName:t}=e,r=Object.keys(n).length;return!!(r===0||r===1&&(n[t]||typeof n[t]=="boolean"||n[t]===0))}class Hr{constructor(e){this.externalEntities={},this.options=hr(e)}parse(e,t){if(typeof e!="string"&&e.toString)e=e.toString();else if(typeof e!="string")throw new Error("XML data is accepted in String or Bytes[] form.");if(t){t===!0&&(t={});const a=ir(e,t);if(a!==!0)throw Error(`${a.err.msg}:${a.err.line}:${a.err.col}`)}const r=new kr(this.options);r.addExternalEntities(this.externalEntities);const s=r.parseXml(e);return this.options.preserveOrder||s===void 0?s:Mr(s,this.options)}addEntity(e,t){if(t.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(t==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}static getMetaDataSymbol(){return ze.getMetaDataSymbol()}}var Yr=O('<p class="uno-gv1863">Searching...</p>'),Kr=O('<button class="uno-g4tfb0"><div class="uno-4p27ks"><p class="uno-2h7i51"> </p> <p class="uno-w3tle4"> </p></div> <div class="uno-3y4nf5" aria-label="Add group" title="Add group"></div></button>'),Wr=O('<div class="uno-tx6af9"><form class="uno-yiav9y"><div class="uno-n9hnzz"><label for="search-query-input" class="uno-8z898c">Search for a group:</label> <input class="uno-ef6tqv" id="search-query-input" type="text" placeholder="Search for a group"/></div> <button class="uno-kow0um" type="submit">Search</button></form> <div class="uno-3n84nq"><!></div></div>');function Zr(n,e){le(e,!0);const t=Be(Ye);if(!t)throw new Error("TargetingGroupSearch must be used within a component that provides TargetingState context");let r=G(""),s=G(ye([])),a=G(!1);async function o(){if(!(!i(r).trim()||i(r).trim().length<=2||i(a))){E(a,!0);try{const h=await Yt(i(r).trim());E(s,h.data??[],!0)}catch(h){console.error(h)}finally{E(a,!1)}}}function d(h,A){if(t.availableScanGroups.find(V=>V.groupId===h))return;const x=new kt;x.groupId=h,x.groupName=A,t.availableScanGroups=[...t.availableScanGroups,x],E(s,[],!0),E(r,"")}var l=Wr(),u=p(l),w=p(u),m=f(p(w),2);ie(m),c(w),ge(2),c(u);var z=f(u,2),U=p(z);{var L=h=>{var A=Yr();F(h,A)},I=h=>{var A=Oe(),x=Pe(A);ke(x,17,()=>i(s),xe,(V,B)=>{var q=Kr();q.__click=()=>d(i(B).id,i(B).name);var N=p(q),y=p(N),g=p(y,!0);c(y);var _=f(y,2),v=p(_,!0);c(_),c(N),ge(2),c(q),Z(()=>{X(g,i(B).id),X(v,i(B).name)}),F(V,q)}),F(h,A)};Y(U,h=>{i(a)?h(L):h(I,!1)})}c(z),c(l),Ce("submit",u,h=>{h.preventDefault(),o()}),Te(m,()=>i(r),h=>E(r,h)),F(n,l),ue()}he(["click"]);var Xr=O('<div class="uno-dxjz78"><div class="uno-dxjz78"><h2 class="uno-2hnkag">Targeting Preparation (Required)</h2> <!> <!> <!></div> <div class="uno-dxjz78"><h2 class="uno-2hnkag">Group Preparation</h2> <!> <!></div> <div class="uno-dxjz78"><div class="uno-dxjz78"><h2 class="uno-87jryj">Batch Edit</h2> <!></div> <button type="button" class="uno-6s7sce">Start Upload</button> <div class="uno-dxjz78"><div class="uno-rp89gc"><h2 class="uno-87jryj">Chapters</h2> <label class="uno-dsxd6g"><input type="checkbox" class="uno-gtaeaa"/> <span class="uno-i5d3fz">Show only chapters without groups</span></label> <label class="uno-dsxd6g"><input type="checkbox" class="uno-gtaeaa"/> <span class="uno-i5d3fz">Show only non-deleted chapters</span></label></div> <div class="uno-ovwqmg"></div></div></div></div>');function Jr(n,e){le(e,!0);const t=Be(Ye);if(!t)throw new Error("TargetingPreparation must be used within a component that provides TargetingState context");let r=be(()=>t.seriesId),s=G(!1),a=G(!0),o=be(()=>{if(!i(s)&&!i(a))return t.chapterStates;let T=t.chapterStates;return i(s)&&(T=T.filter(S=>!S.associatedGroup.groupIds||S.associatedGroup.groupIds.length===0)),i(a)&&(T=T.filter(S=>!S.isDeleted)),T});async function d(T,S,P){let b=null,j=null,H=null;if(T.file.name.toLowerCase()==="comicinfo.xml")try{const W=await T.file.text(),de=new Hr({ignoreAttributes:!1,attributeNamePrefix:"@_",parseAttributeValue:!0,trimValues:!0}).parse(W);if(de.ComicInfo){const re=de.ComicInfo;re.Title&&(b=re.Title),re.Number!==void 0&&re.Number!==null&&(j=String(re.Number)),re.Volume!==void 0&&re.Volume!==null&&(H=String(re.Volume))}}catch(W){console.error("Failed to parse ComicInfo.xml:",W)}const J=S.map((W,$)=>{const de=W.type===Ue.CHAPTER_PAGE;return new bt(W.file.name,$,W.file,_t.NOT_STARTED,0,null,null,!de,W.type)});return new yt(P,b??"",H,j,new at,new lt,J,Et.NOT_STARTED,0,null,null,new ut(P,P,[T,...S],[],0,0),!1,"en")}Ee(()=>{(async()=>{const T=await Promise.all(e.selectedFolders.map(async(S,P)=>{const b=S.files.filter(H=>H.type===Ue.CHAPTER_DEFINITION_FILE);if(b.length===1){const H=S.files.filter(K=>K.type!==Ue.CHAPTER_DEFINITION_FILE);return await d(b[0],H,S.path)}const j=S.files.map((H,K)=>{const J=H.type===Ue.CHAPTER_PAGE;return new bt(H.file.name,K,H.file,_t.NOT_STARTED,0,null,null,!J,H.type)});return new yt(S.path,S.name,null,P.toString(),new at,new lt,j,Et.NOT_STARTED,0,null,null,null,!1,"en")}));t.chapterStates=T})()});function l(T){return[...T].sort((S,P)=>{const b=S.chapterVolume,j=P.chapterVolume;if(!(b===null&&j===null)){if(b===null)return 1;if(j===null)return-1;{const J=String(b).localeCompare(String(j),void 0,{numeric:!0,sensitivity:"base"});if(J!==0)return J}}const H=S.chapterNumber,K=P.chapterNumber;return H===null&&K===null?0:H===null?1:K===null?-1:String(H).localeCompare(String(K),void 0,{numeric:!0,sensitivity:"base"})})}Ee(()=>{const T=l(t.chapterStates);for(let S=0;S<T.length;S++)if(T[S].originalFolderPath!==t.chapterStates[S].originalFolderPath){t.chapterStates=T;return}}),Ee(()=>{t.seriesId!==null&&t.chapterStates.forEach(T=>{T.associatedSeries||(T.associatedSeries=new at),T.associatedSeries.seriesId=t.seriesId??""})});var u=Xr(),w=p(u),m=f(p(w),2);Kt(m,{});var z=f(m,2);Wt(z,{});var U=f(z,2);Zt(U,{}),c(w);var L=f(w,2),I=f(p(L),2);gn(I,{});var h=f(I,2);Zr(h,{}),c(L);var A=f(L,2),x=p(A),V=f(p(x),2);er(V,{get chapters(){return t.chapterStates},set chapters(T){t.chapterStates=T}}),c(x);var B=f(x,2);B.__click=function(...T){e.onDone?.apply(this,T)};var q=f(B,2),N=p(q),y=f(p(N),2),g=p(y);ie(g),ge(2),c(y);var _=f(y,2),v=p(_);ie(v),ge(2),c(_),c(N);var C=f(N,2);ke(C,21,()=>i(o),xe,(T,S,P)=>{const b=be(()=>t.chapterStates.findIndex(j=>j===i(S)));Qn(T,{index:P,get chapter(){return t.chapterStates[i(b)]},set chapter(j){t.chapterStates[i(b)]=j}})}),c(C),c(q),c(A),c(u),Z(()=>B.disabled=!i(r)),Ge(g,()=>i(s),T=>E(s,T)),Ge(v,()=>i(a),T=>E(a,T)),F(n,u),ue()}he(["click"]);var Qr=O('<span class="uno-57st91"></span>'),$r=O('<span class="uno-wekq8j"></span>'),Dr=O('<span class="uno-vl9lsr"><!></span>'),es=O('<span class="uno-ysln7w"></span>'),ts=O('<div class="uno-7tlu5e"><span class="uno-ysln7w"></span> <span class="uno-w0z7mh"></span> <span class="uno-01bs70"> </span> <span class="uno-n4cnqc"> </span></div>'),ns=O('<div class="uno-pkltwb"><!> <!></div>'),rs=O('<div><button type="button" class="uno-63wdec"><!> <span class="uno-r67jyj"></span> <span class="uno-cfa50z"> </span> <span class="uno-2as1mj"> </span> <span class="uno-bwfsan"> </span></button> <!></div>');function zt(n,e){le(e,!0);let t=ee(e,"level",3,0),r=ee(e,"class",3,""),s=G(!1);function a(){o&&E(s,!i(s))}const o=e.folder.files.length>0||e.folder.folders.length>0,d=`${t()*5}px`;var l=rs(),u=p(l);u.__click=a;var w=p(u);{var m=q=>{var N=Dr(),y=p(N);{var g=v=>{var C=Qr();F(v,C)},_=v=>{var C=$r();F(v,C)};Y(y,v=>{i(s)?v(g):v(_,!1)})}c(N),F(q,N)},z=q=>{var N=es();F(q,N)};Y(w,q=>{o?q(m):q(z,!1)})}var U=f(w,4),L=p(U,!0);c(U);var I=f(U,2),h=p(I);c(I);var A=f(I,2),x=p(A);c(A),c(u);var V=f(u,2);{var B=q=>{var N=ns(),y=p(N);ke(y,17,()=>e.folder.folders,xe,(_,v)=>{{let C=be(()=>t()+1);zt(_,{get folder(){return i(v)},get level(){return i(C)}})}});var g=f(y,2);ke(g,17,()=>e.folder.files,xe,(_,v)=>{var C=ts(),T=f(p(C),4),S=p(T,!0);c(T);var P=f(T,2),b=p(P);c(P),c(C),Z(j=>{qe(C,`padding-left: ${d};`),X(S,i(v).file.name),X(b,`${j??""} KB`)},[()=>(i(v).file.size/1024).toFixed(2)]),F(_,C)}),c(N),Z(()=>qe(N,`margin-left: ${d};`)),F(q,N)};Y(V,q=>{i(s)&&q(B)})}c(l),Z(()=>{fe(l,1,Ne(["uno-0q6x3s",r()])),qe(u,`padding-left: ${d};`),u.disabled=!o,X(L,e.folder.name||"Root"),X(h,`L${e.folder.level??""}`),X(x,`(${e.folder.files.length??""} file${e.folder.files.length!==1?"s":""}, ${e.folder.folders.length??""} folder${e.folder.folders.length!==1?"s":""})`)}),F(n,l),ue()}he(["click"]);var ss=O(`<div><h2 class="uno-tuwa1l text-md"> </h2> <div class="uno-dby05x"><div class="uno-41oacz"><div><h3 class="uno-66ploz">Chapter Name Level</h3> <p class="uno-5ik2j2">This is the level at which folders will be grouped into chapters (the L numbering on the
					directory explorer). The folders at this level will be used to group together chapters.</p></div> <!></div> <div class="uno-41oacz"><div><h3 class="uno-66ploz">File Level</h3> <p class="uno-5ik2j2">This is the level at which files inside folders will be considered as being a part of the
					chapter (the L numbering on the directory explorer). Only files contained within folders
					at this level will be considered as being a part of the chapter.</p></div> <!></div></div> <div class="uno-41oacz"><div><h3 class="uno-66ploz">File Path Filter</h3> <p class="uno-5ik2j2">This is a regex filter that will be applied in addition to the file level selector. This is
				useful if you have multiple files at the same file level, but are only really interested in
				a subset of them.</p></div> <div class="uno-tf0zt3"><button type="button" class="uno-786krg">Set Example Exclusion Regex</button> <button type="button" class="uno-786krg">Set Example Inclusion Regex</button> <div class="uno-ahr0cj"><input type="checkbox" class="uno-mzfs6x"/> <label for="isRegexCaseSensitive" class="uno-5ik2j2">Case Sensitive</label></div></div> <input type="text" placeholder="Filter files by path regex..." class="uno-fzo9yc"/></div></div>`);function as(n,e){le(e,!0);let t=ee(e,"class",3,""),r=ee(e,"slicedFolders",15,null),s=be(()=>e.selectedFolder.depth),a=G("1"),o=G("1"),d=G(""),l=G(!1);Ee(()=>{i(a)&&i(o)&&parseInt(i(o))<parseInt(i(a))&&E(o,i(a),!0);const S=u(parseInt(i(a)),e.selectedFolder),P=m(S,i(d));P.sort((b,j)=>b.name.localeCompare(j.name)),r(P)});function u(S,P){let b=[];for(const j of P.folders){if(j.level===S){b.push(j);continue}j.level<S&&b.push(...u(S,j))}return b}function w(S){const P=S.files;let b=[];for(const j of S.folders)b.push(...w(j));return[...P,...b]}function m(S,P){let b=[];const j=P.trim();if(j===""){for(const K of S){const J=w(K);J.length!==0&&b.push(new ut(K.name,K.path,J,[],K.level,0))}return b}const H=new RegExp(j,i(l)?"g":"gi");for(const K of S){const ae=w(K).filter(W=>H.test(W.path));ae.length!==0&&b.push(new ut(K.name,K.path,ae,[],K.level,0))}return b}function z(){E(d,"^(?!.*filename).*$")}function U(){E(d,"filename")}var L=ss(),I=p(L),h=p(I);c(I);var A=f(I,2),x=p(A),V=f(p(x),2);{let S=be(()=>Array.from({length:i(s)},(P,b)=>b+1).map(P=>P.toString()));Qe(V,{get items(){return i(S)},class:"uno-p2tdxo",get selectedItem(){return i(a)},set selectedItem(P){E(a,P,!0)}})}c(x);var B=f(x,2),q=f(p(B),2);{let S=be(()=>Array.from({length:i(s)},(P,b)=>b+1).map(P=>P.toString()));Qe(q,{get items(){return i(S)},class:"uno-p2tdxo",get selectedItem(){return i(o)},set selectedItem(P){E(o,P,!0)}})}c(B),c(A);var N=f(A,2),y=f(p(N),2),g=p(y);g.__click=z;var _=f(g,2);_.__click=U;var v=f(_,2),C=p(v);ie(C),ge(2),c(v),c(y);var T=f(y,2);ie(T),c(N),c(L),Z(()=>{fe(L,1,Ne(["uno-p7gj2t",t()])),X(h,`Vertical Slice Pane - ${i(s)??""}`)}),Ge(C,()=>i(l),S=>E(l,S)),Te(T,()=>i(d),S=>E(d,S)),F(n,L),ue()}he(["click"]);var is=O('<button class="uno-ib5962"><div class="uno-xqpedf"><p class="uno-9fhwl6"><span class="uno-kgt3zb">Path:</span> </p> <div class="uno-rgzzux"><p class="uno-9fhwl6"><span class="uno-kgt3zb">Name:</span> </p> <p class="uno-9fhwl6"><span class="uno-kgt3zb">Files:</span> </p></div></div> <input type="checkbox" class="uno-drnypz"/></button>');function os(n,e){le(e,!0);let t=ee(e,"selectedSlicedFolder",15,null);function r(){t(t().isSelected=!t().isSelected,!0)}var s=is();s.__click=r;var a=p(s),o=p(a),d=f(p(o));c(o);var l=f(o,2),u=p(l),w=f(p(u));c(u);var m=f(u,2),z=f(p(m));c(m),c(l),c(a);var U=f(a,2);ie(U),c(s),Z(()=>{X(d,` ${t().folder.path??""}`),X(w,` ${t().folder.name??""}`),X(z,` ${t().folder.files.length??""}`)}),Ge(U,()=>t().isSelected,L=>t(t().isSelected=L,!0)),F(n,s),ue()}he(["click"]);var ls=O("<div></div>");function us(n,e){le(e,!0);let t=ee(e,"class",3,""),r=ee(e,"selectedSlicedFolders",31,()=>ye([]));Ee(()=>{r(e.slicedFolders.map(a=>({folder:a,isSelected:!0})))});var s=ls();ke(s,21,r,xe,(a,o,d)=>{os(a,{get selectedSlicedFolder(){return r()[d]},set selectedSlicedFolder(l){r(r()[d]=l,!0)}})}),c(s),Z(()=>fe(s,1,Ne(["uno-c09693",t()]))),F(n,s),ue()}var ds=O('<div><h2 class="uno-big2dz text-md"> </h2> <!></div> <button type="button" class="uno-4mp1rf">Continue to Editor</button>',1),cs=O('<div><h1 class="uno-5gcp3l">Vertical Slicer</h1> <div class="uno-0l5rnf"><div><h2 class="uno-u2fo5v text-md">Directory Explorer</h2></div> <div class="uno-uwenez"></div> <div class="uno-7k8lj1"><h2 class="uno-big2dz text-md">Slicer</h2></div></div> <div class="uno-0402h6"><div class="uno-z8ysy7"><!></div> <button type="button" class="uno-1es7ju group" aria-label="Resize panels"><div class="uno-gtkyu2"><div class="uno-amtufd"></div> <div class="uno-amtufd"></div> <div class="uno-amtufd"></div></div></button> <div class="uno-w96zyv"><!></div></div> <!></div>');function fs(n,e){le(e,!0);let t=ee(e,"finalizedFolderSelection",15,null),r=ee(e,"class",3,""),s=G(null),a=G(ye([])),o=be(()=>i(a).filter(v=>v.isSelected)),d=be(()=>Xt(e.selectedFiles??[])),l=G(null),u=G(!1),w=G(20);function m(){t(i(o).map(v=>v.folder)),e.onDone()}function z(v){E(u,!0)}function U(v){if(!i(u)||!i(l))return;const C=i(l).getBoundingClientRect(),T=(v.clientX-C.left)/C.width*100;E(w,Math.max(20,Math.min(80,T)),!0)}function L(){E(u,!1)}Ee(()=>{if(i(u))return document.addEventListener("mousemove",U),document.addEventListener("mouseup",L),document.body.style.cursor="col-resize",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",L),document.body.style.cursor="",document.body.style.userSelect=""}});var I=cs(),h=f(p(I),2),A=p(h);ge(4),c(h);var x=f(h,2),V=p(x),B=p(V);zt(B,{get folder(){return i(d)}}),c(V);var q=f(V,2);q.__mousedown=z;var N=f(q,2),y=p(N);as(y,{get selectedFolder(){return i(d)},get slicedFolders(){return i(s)},set slicedFolders(v){E(s,v,!0)}}),c(N),c(x),He(x,v=>E(l,v),()=>i(l));var g=f(x,2);{var _=v=>{var C=ds(),T=Pe(C),S=p(T),P=p(S);c(S);var b=f(S,2);us(b,{get slicedFolders(){return i(s)},class:"uno-xmletc",get selectedSlicedFolders(){return i(a)},set selectedSlicedFolders(H){E(a,H,!0)}}),c(T);var j=f(T,2);j.__click=m,Z(()=>{X(P,`Vertical Slice Preview (${i(o).length??""}
				selected)`),j.disabled=i(o).length===0}),F(v,C)};Y(g,v=>{i(s)&&v(_)})}c(I),Z(()=>{fe(I,1,`uno-xxsekz ${r()??""}`),qe(A,`width: ${i(w)??""}%;`),qe(V,`width: ${i(w)??""}%;`)}),F(n,I),ue()}he(["mousedown","click"]);var ps=O("<p>todo: finished</p>"),vs=O('<div class="uno-r204ub"><div class="uno-kd0tpq"><h1 class="uno-oq6hfo">Uploader Improved</h1> <div class="uno-b6vj60"><button type="button" class="uno-affps4">Guided Mode</button> <!></div></div> <a target="_blank" class="uno-io1u0r">Tutorial & Docs</a> <!> <div class="uno-l3b4kf"><button type="button">Pick Folder</button> <div class="uno-57hmfs"></div> <button type="button">Select Folders</button> <div class="uno-57hmfs"></div> <button type="button">Edit Chapters</button> <div class="uno-57hmfs"></div> <button type="button">Upload</button> <div class="uno-57hmfs"></div> <button type="button">Finished</button></div> <!></div>');function Ss(n,e){le(e,!0);let t=G(null),r=G(null);mt(xt,new en),mt(Ye,new Qt);var s=(b=>(b.PICKING_FOLDER="PICKING_FOLDER",b.SELECTING_FOLDERS="SELECTING_FOLDERS",b.EDITING_CHAPTERS="EDITING_CHAPTERS",b.UPLOADING="UPLOADING",b.FINISHED="FINISHED",b))(s||{});let a=G(!1),o=G("PICKING_FOLDER"),d=be(()=>i(o)==="UPLOADING"&&i(a)),l=be(()=>i(o)!=="UPLOADING"&&i(o)!=="EDITING_CHAPTERS");function u(b){i(t)&&E(o,b,!0)}function w(){E(o,"SELECTING_FOLDERS")}function m(){E(o,"EDITING_CHAPTERS")}function z(){E(o,"UPLOADING")}function U(){E(o,"FINISHED")}var L=vs(),I=p(L),h=f(p(I),2),A=p(h);A.__click=()=>tn(wt("/guided"));var x=f(A,2);Jt(x,{}),c(h),c(I);var V=f(I,2),B=f(V,2);{var q=b=>{$t(b,{})};Y(B,b=>{i(l)&&b(q)})}var N=f(B,2),y=p(N);y.__click=()=>u(s.PICKING_FOLDER);var g=f(y,4);g.__click=()=>u(s.SELECTING_FOLDERS);var _=f(g,4);_.__click=()=>u(s.EDITING_CHAPTERS);var v=f(_,4);v.__click=()=>u(s.UPLOADING);var C=f(v,4);C.disabled=!0,c(N);var T=f(N,2);{var S=b=>{un(b,{onDone:w,class:"uno-r3xq7g",get selectedFiles(){return i(t)},set selectedFiles(j){E(t,j,!0)}})},P=b=>{var j=Oe(),H=Pe(j);{var K=ae=>{fs(ae,{onDone:m,get selectedFiles(){return i(t)},get finalizedFolderSelection(){return i(r)},set finalizedFolderSelection(W){E(r,W,!0)}})},J=ae=>{var W=Oe(),$=Pe(W);{var de=ce=>{Jr(ce,{get selectedFolders(){return i(r)},onDone:z})},re=ce=>{var we=Oe(),Le=Pe(we);{var Ke=Ie=>{Dt(Ie,{onDone:U,get busy(){return i(a)},set busy(Se){E(a,Se,!0)}})},Fe=Ie=>{var Se=Oe(),R=Pe(Se);{var M=te=>{var Ae=ps();F(te,Ae)};Y(R,te=>{i(o)===s.FINISHED&&te(M)},!0)}F(Ie,Se)};Y(Le,Ie=>{i(o)===s.UPLOADING?Ie(Ke):Ie(Fe,!1)},!0)}F(ce,we)};Y($,ce=>{i(o)===s.EDITING_CHAPTERS&&i(r)?ce(de):ce(re,!1)},!0)}F(ae,W)};Y(H,ae=>{i(o)===s.SELECTING_FOLDERS?ae(K):ae(J,!1)},!0)}F(b,j)};Y(T,b=>{i(o)===s.PICKING_FOLDER?b(S):b(P,!1)})}c(L),Z(b=>{je(V,"href",b),fe(y,1,Ne({"uno-mpkkic":!0,"uno-ywbfsm":i(o)!==s.PICKING_FOLDER,"uno-djdziu":i(o)===s.PICKING_FOLDER})),y.disabled=i(d),fe(g,1,Ne({"uno-mpkkic":!0,"uno-ywbfsm":i(o)!==s.SELECTING_FOLDERS,"uno-djdziu":i(o)===s.SELECTING_FOLDERS})),g.disabled=!i(t)||i(d),fe(_,1,Ne({"uno-mpkkic":!0,"uno-ywbfsm":i(o)!==s.EDITING_CHAPTERS,"uno-djdziu":i(o)===s.EDITING_CHAPTERS})),_.disabled=!i(r)||i(d),fe(v,1,Ne({"uno-mpkkic":!0,"uno-ywbfsm":i(o)!==s.UPLOADING,"uno-djdziu":i(o)===s.UPLOADING})),v.disabled=!i(r)||i(d),fe(C,1,Ne({"uno-mpkkic":!0,"uno-ywbfsm":i(o)!==s.FINISHED,"uno-djdziu":i(o)===s.FINISHED}))},[()=>wt("/docs")]),F(n,L),ue()}he(["click"]);export{Ss as component,Ts as universal};
