import{f as c,a as i,t as rt,c as Je}from"../chunks/C1vGc2OE.js";import{V as Gt,o as Ct,E as be,K as r,F as Ne,H as ye,I as a,J as t,g as e,s as B,G as I,a as v,aH as ae,p as Ue,u as Ye,aI as tt,af as Xe}from"../chunks/Caq-6Jf1.js";import{s as F}from"../chunks/Br6XPsqh.js";import{p as yt,i as U,b as Ft}from"../chunks/DUr0B3lp.js";import{d as Ee,e as ct}from"../chunks/D-SRKoDg.js";import{s as Ie,e as pe,i as ge,b as ht,a as ze,g as Pt,c as mt,f as bt,d as et,h as Re,S as At,C as It,j as nt,k as Nt,U as Se,l as ce,m as ue,n as qt,o as zt,p as Rt,q as jt,r as Dt,t as Ot,u as pt}from"../chunks/B2tXBVCm.js";import{r as fe,a as lt,s as Ve,b as gt}from"../chunks/CcFHL8c-.js";import{o as Ut}from"../chunks/fvxv5hmi.js";import{g as at}from"../chunks/C2LQGY4X.js";function ft(Z,s,o){Gt(()=>{var l=Ct(()=>s(Z,o?.())||{});if(l?.destroy)return()=>l.destroy()})}const Vt=!0,Ls=Object.freeze(Object.defineProperty({__proto__:null,prerender:Vt},Symbol.toStringTag,{value:"Module"}));var Lt=c('<h1 class="uno-kiaplp">Folder Picker</h1> <input class="uno-kdh66v" type="file"/>',1);function Mt(Z,s){be(s,!0);let o=yt(s,"files",15,null);const l=f=>{const S=f.target;o(Array.from(S.files??[]))};var m=Lt(),u=r(Ne(m),2);u.webkitdirectory=!0,u.multiple=!0,u.__change=l,i(Z,m),ye()}Ee(["change"]);var Bt=c('<span class="uno-dyg530"></span>'),Wt=c('<span class="uno-l8ea5i"></span>'),Kt=c('<span class="uno-exhlwj"><!></span>'),Ht=c('<span class="uno-5rag0k"></span>'),Jt=c('<div class="uno-qev6ho"><span class="uno-5rag0k"></span> <span class="uno-y8oa33"></span> <span class="uno-6gzomp"> </span> <span class="uno-sjht51"> </span></div>'),Yt=c('<div class="uno-sqxdlv"><!> <!></div>'),Qt=c('<div class="uno-z5gseo"><button type="button" class="uno-ed9acn"><!> <span class="uno-nbuipf"></span> <span class="uno-orvl1e"> </span> <span class="uno-jvrw6p"> </span></button> <!></div>');function xt(Z,s){be(s,!0);let o=yt(s,"level",3,0),l=B(!1);function m(){u&&v(l,!e(l))}const u=s.folder.files.length>0||s.folder.folders.length>0,f=o()*1.5;var S=Qt(),y=a(S);y.__click=m;var z=a(y);{var H=d=>{var b=Kt(),P=a(b);{var A=V=>{var h=Bt();i(V,h)},L=V=>{var h=Wt();i(V,h)};U(P,V=>{e(l)?V(A):V(L,!1)})}t(b),i(d,b)},R=d=>{var b=Ht();i(d,b)};U(z,d=>{u?d(H):d(R,!1)})}var N=r(z,4),W=a(N,!0);t(N);var M=r(N,2),O=a(M);t(M),t(y);var w=r(y,2);{var p=d=>{var b=Yt(),P=a(b);pe(P,17,()=>s.folder.folders,ge,(L,V)=>{{let h=ae(()=>o()+1);xt(L,{get folder(){return e(V)},get level(){return e(h)}})}});var A=r(P,2);pe(A,17,()=>s.folder.files,ge,(L,V)=>{var h=Jt(),n=r(a(h),4),g=a(n,!0);t(n);var D=r(n,2),K=a(D);t(D),t(h),I(te=>{Ie(h,`padding-left: ${(o()+1)*1.5}rem;`),F(g,e(V).file.name),F(K,`${te??""} KB`)},[()=>(e(V).file.size/1024).toFixed(2)]),i(L,h)}),t(b),I(()=>Ie(b,`margin-left: ${f+1}rem;`)),i(d,b)};U(w,d=>{e(l)&&d(p)})}t(S),I(()=>{Ie(y,`padding-left: ${f}rem;`),y.disabled=!u,F(W,s.folder.name||"Root"),F(O,`(${s.folder.files.length??""} file${s.folder.files.length!==1?"s":""}, ${s.folder.folders.length??""} folder${s.folder.folders.length!==1?"s":""})`)}),i(Z,S),ye()}Ee(["click"]);var Xt=c('<option class="svelte-1dt2959"> </option>'),Zt=c('<option class="svelte-1dt2959"> </option>'),$t=c('<div class="uno-ol1w6y svelte-1dt2959"> </div>'),ea=c('<div><input type="checkbox" class="uno-hb6siv svelte-1dt2959"/> <span class="uno-ujycpt svelte-1dt2959"></span> <div class="uno-wim8ka svelte-1dt2959"><div class="uno-p602gq svelte-1dt2959"> </div> <div class="uno-vjz0cb svelte-1dt2959"> <!></div></div></div>'),ta=c('<div class="uno-ol1w6y svelte-1dt2959"> </div>'),aa=c('<div><input type="checkbox" class="uno-7r1fcj svelte-1dt2959"/> <span class="uno-laazhd svelte-1dt2959"></span> <div class="uno-wim8ka svelte-1dt2959"><div class="uno-p602gq svelte-1dt2959"> </div> <div class="uno-vjz0cb svelte-1dt2959"> </div></div></div>'),sa=c('<div class="uno-8knn1l svelte-1dt2959"><span class="uno-kxe99r svelte-1dt2959"></span> <span class="uno-5v1kiw svelte-1dt2959"> </span> <span class="uno-qg2b6n svelte-1dt2959"> </span> <span class="uno-qg2b6n svelte-1dt2959"> </span></div>'),ra=c('<div class="uno-wfga2q svelte-1dt2959"><h4 class="uno-ch4dj4 svelte-1dt2959"> </h4> <div class="uno-3z4b9l svelte-1dt2959"></div></div>'),na=c('<div class="uno-yx5zoe svelte-1dt2959"><h3 class="uno-sooq0r svelte-1dt2959"> </h3> <div class="uno-pc3xtl svelte-1dt2959"></div> <div class="uno-m8ybj2 svelte-1dt2959"><button type="button" class="uno-gz3vrg svelte-1dt2959">Process & Upload</button></div></div>'),la=c('<div class="uno-lxdwzu svelte-1dt2959"><div class="uno-y3meo6 svelte-1dt2959"><div class="uno-wfga2q svelte-1dt2959"><label for="name-depth-select" class="uno-o60es5 svelte-1dt2959">Name Depth (grouping name)</label> <select id="name-depth-select" class="uno-e04cfs svelte-1dt2959"></select> <p class="uno-kgbtbw svelte-1dt2959"> </p></div> <div class="uno-wfga2q svelte-1dt2959"><label for="file-depth-select" class="uno-o60es5 svelte-1dt2959">File Depth (where images are)</label> <select id="file-depth-select" class="uno-e04cfs svelte-1dt2959"></select> <p class="uno-kgbtbw svelte-1dt2959"> </p></div></div> <div class="uno-wfga2q svelte-1dt2959"><label for="file-path-filter" class="uno-o60es5 svelte-1dt2959">File Path Filter (optional)</label> <input type="text" id="file-path-filter" placeholder="Filter files by path substring..." class="uno-9c0kcz svelte-1dt2959"/> <p class="uno-kgbtbw svelte-1dt2959"><!></p></div> <div class="uno-dp7zh8 svelte-1dt2959"><div class="uno-56sx4k svelte-1dt2959"><h3 class="uno-sooq0r svelte-1dt2959"> </h3> <div class="uno-mzvthr svelte-1dt2959"><button type="button" class="uno-b53nnf svelte-1dt2959">Select All</button> <button type="button" class="uno-yq28hv svelte-1dt2959">Deselect All</button> <span class="uno-vjz0cb svelte-1dt2959"> <!></span></div></div> <div class="uno-xiu17u svelte-1dt2959"><!></div></div> <div class="uno-dp7zh8 svelte-1dt2959"><div class="uno-uk7mmq svelte-1dt2959"><h3 class="uno-sooq0r svelte-1dt2959"> </h3> <div class="uno-mzvthr svelte-1dt2959"><button type="button" class="uno-yqn3sl svelte-1dt2959">Select All</button> <button type="button" class="uno-yq28hv svelte-1dt2959">Deselect All</button> <span class="uno-vjz0cb svelte-1dt2959"> </span></div></div> <div class="uno-xiu17u svelte-1dt2959"><!></div></div> <!></div>');function oa(Z,s){be(s,!0);let o=B(1),l=B(1),m=B(""),u=B(Ue(new Set)),f=B(Ue(new Set));const S=ae(()=>Pt(s.folder)),y=ae(()=>{if(e(o)<1)return[];const k=mt(s.folder,e(o));if(!e(m).trim())return k;const j=e(m).toLowerCase();return k.filter(X=>X.files.some(ie=>ie.path.toLowerCase().includes(j)))}),z=ae(()=>e(l)<1?[]:mt(s.folder,e(l)));Ye(()=>{const k=e(y),j=new Set;for(const X of e(u))k.includes(X)&&j.add(X);j.size!==e(u).size&&v(u,j,!0)});function H(k){e(u).has(k)?e(u).delete(k):e(u).add(k),v(u,new Set(e(u)),!0)}function R(k){e(f).has(k)?e(f).delete(k):e(f).add(k),v(f,new Set(e(f)),!0)}function N(){v(u,new Set(e(y)),!0)}function W(){v(u,new Set,!0)}function M(){v(f,new Set(e(z)),!0)}function O(){v(f,new Set,!0)}const w=ae(()=>{let k=0;for(const j of e(u))k+=j.files.length;return k}),p=ae(()=>{const k=new Map,j=Array.from(e(u)),X=bt(s.folder,j,e(l));for(const ie of e(u)){const J=X.get(ie);if(J&&e(f).has(J)){k.has(J)||k.set(J,[]);for(const de of ie.files)k.get(J).push({file:de,folder:ie})}}return Array.from(k.entries()).filter(([ie,J])=>J.length>0).map(([ie,J])=>({name:ie.name,nameFolder:ie,files:J}))});var d=la(),b=a(d),P=a(b),A=r(a(P),2);pe(A,21,()=>Array.from({length:e(S)},(k,j)=>j+1),ge,(k,j)=>{var X=Xt(),ie=a(X);t(X);var J={};I(()=>{F(ie,`Level ${e(j)??""}`),J!==(J=e(j))&&(X.value=(X.__value=e(j))??"")}),i(k,X)}),t(A);var L=r(A,2),V=a(L);t(L),t(P);var h=r(P,2),n=r(a(h),2);pe(n,21,()=>Array.from({length:e(S)},(k,j)=>j+1),ge,(k,j)=>{var X=Zt(),ie=a(X);t(X);var J={};I(()=>{F(ie,`Level ${e(j)??""}`),J!==(J=e(j))&&(X.value=(X.__value=e(j))??"")}),i(k,X)}),t(n);var g=r(n,2),D=a(g);t(g),t(h),t(b);var K=r(b,2),te=r(a(K),2);fe(te);var Q=r(te,2),$=a(Q);{var le=k=>{var j=rt();I(()=>F(j,`Only showing folders containing files with "${e(m)??""}" in their path`)),i(k,j)},E=k=>{var j=rt("Leave empty to show all folders");i(k,j)};U($,k=>{e(m).trim()?k(le):k(E,!1)})}t(Q),t(K);var T=r(K,2),x=a(T),C=a(x),se=a(C);t(C);var ee=r(C,2),Y=a(ee);Y.__click=N;var we=r(Y,2);we.__click=W;var re=r(we,2),_e=a(re),Ge=r(_e);{var _=k=>{var j=rt();I(()=>F(j,`• ${e(w)??""} file${e(w)!==1?"s":""}`)),i(k,j)};U(Ge,k=>{e(u).size>0&&k(_)})}t(re),t(ee),t(x);var G=r(x,2),q=a(G);{var ke=k=>{var j=$t(),X=a(j);t(j),I(()=>F(X,`No folders found at depth level ${e(o)??""}`)),i(k,j)},Le=k=>{var j=Je(),X=Ne(j);pe(X,17,()=>e(y),ge,(ie,J)=>{const de=ae(()=>e(u).has(e(J)));var ve=ea(),he=a(ve);fe(he),he.__change=()=>H(e(J));var me=r(he,4),Pe=a(me),Be=a(Pe,!0);t(Pe);var We=r(Pe,2),Ke=a(We),Ae=r(Ke);{var He=Oe=>{var $e=rt();I(()=>F($e,`• ${e(J).folders.length??""} subfolder${e(J).folders.length!==1?"s":""}`)),i(Oe,$e)};U(Ae,Oe=>{e(J).folders.length>0&&Oe(He)})}t(We),t(me),t(ve),I(Oe=>{Re(ve,1,`uno-0d5ebh ${e(de)?"uno-8c13e1":"uno-gp109b"}`,"svelte-1dt2959"),lt(he,e(de)),F(Be,Oe),F(Ke,`${e(J).files.length??""} image${e(J).files.length!==1?"s":""} `)},[()=>et(s.folder,e(J))??e(J).name]),i(ie,ve)}),i(k,j)};U(q,k=>{e(y).length===0?k(ke):k(Le,!1)})}t(G),t(T);var Ce=r(T,2),Te=a(Ce),Fe=a(Te),Qe=a(Fe);t(Fe);var je=r(Fe,2),st=a(je);st.__click=M;var Ze=r(st,2);Ze.__click=O;var oe=r(Ze,2),ne=a(oe);t(oe),t(je),t(Te);var xe=r(Te,2),qe=a(xe);{var De=k=>{var j=ta(),X=a(j);t(j),I(()=>F(X,`No folders found at depth level ${e(l)??""}`)),i(k,j)},ot=k=>{var j=Je(),X=Ne(j);pe(X,17,()=>e(z),ge,(ie,J)=>{const de=ae(()=>e(f).has(e(J)));var ve=aa(),he=a(ve);fe(he),he.__change=()=>R(e(J));var me=r(he,4),Pe=a(me),Be=a(Pe,!0);t(Pe);var We=r(Pe,2),Ke=a(We);t(We),t(me),t(ve),I((Ae,He)=>{Re(ve,1,`uno-0d5ebh ${e(de)?"uno-80pb5g":"uno-gp109b"}`,"svelte-1dt2959"),lt(he,e(de)),F(Be,Ae),F(Ke,`Parent of ${He??""} selected file folder${e(u).size!==1?"s":""}`)},[()=>et(s.folder,e(J))??e(J).name,()=>e(u).size>0?Array.from(e(u)).filter(Ae=>bt(s.folder,[Ae],e(l)).get(Ae)===e(J)).length:0]),i(ie,ve)}),i(k,j)};U(qe,k=>{e(z).length===0?k(De):k(ot,!1)})}t(xe),t(Ce);var it=r(Ce,2);{var Me=k=>{var j=na(),X=a(j),ie=a(X);t(X);var J=r(X,2);pe(J,21,()=>e(p),ge,(he,me)=>{var Pe=ra(),Be=a(Pe),We=a(Be);t(Be);var Ke=r(Be,2);pe(Ke,21,()=>e(me).files,ge,(Ae,He)=>{let Oe=()=>e(He).file,$e=()=>e(He).folder;var vt=sa(),ut=r(a(vt),2),wt=a(ut,!0);t(ut);var dt=r(ut,2),kt=a(dt);t(dt);var _t=r(dt,2),St=a(_t);t(_t),t(vt),I((Et,Tt)=>{F(wt,Oe().file.name),F(kt,`${Et??""} KB`),F(St,`from ${Tt??""}`)},[()=>(Oe().file.size/1024).toFixed(2),()=>et(s.folder,$e())??$e().name]),i(Ae,vt)}),t(Ke),t(Pe),I(Ae=>F(We,`${Ae??""} (${e(me).files.length??""} file${e(me).files.length!==1?"s":""})`),[()=>et(s.folder,e(me).nameFolder)??e(me).name]),i(he,Pe)}),t(J);var de=r(J,2),ve=a(de);ve.__click=()=>s.onProcess?.(e(p)),t(de),t(j),I(()=>{F(ie,`Grouped Files by Name (${e(p).length??""} group${e(p).length!==1?"s":""})`),ve.disabled=e(p).length===0}),i(k,j)};U(it,k=>{e(p).length>0&&k(Me)})}t(d),I(()=>{F(V,`${e(z).length??""} folder${e(z).length!==1?"s":""} at this depth`),F(D,`${e(y).length??""} folder${e(y).length!==1?"s":""} at this depth`),F(se,`File Folders (Level ${e(o)??""})`),F(_e,`${e(u).size??""} of ${e(y).length??""} selected `),F(Qe,`Name Folders (Level ${e(l)??""})`),F(ne,`${e(f).size??""} of ${e(z).length??""} selected`)}),ht(A,()=>e(l),k=>v(l,k)),ht(n,()=>e(o),k=>v(o,k)),ze(te,()=>e(m),k=>v(m,k)),i(Z,d),ye()}Ee(["click","change"]);var ia=c('<div class="uno-3b9xc8 svelte-1rdogx5"><div class="uno-tgflu5 svelte-1rdogx5"><div class="uno-wfa6fr svelte-1rdogx5"><svg class="uno-5hjpla svelte-1rdogx5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" class="svelte-1rdogx5"></path></svg> <span class="uno-lg37ya svelte-1rdogx5">API access validated successfully</span></div> <button type="button" class="uno-42qblt svelte-1rdogx5">Reset</button></div></div>'),va=c('<div class="uno-9xff2l svelte-1rdogx5"><p class="uno-d8bvbb svelte-1rdogx5"> </p></div>'),ua=c('<svg class="uno-5n8m1m svelte-1rdogx5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="uno-t7vny0 svelte-1rdogx5" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="uno-wem06t svelte-1rdogx5" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="svelte-1rdogx5">Validating...</span>',1),da=c('<span class="svelte-1rdogx5">Validate API Access</span>'),ca=c('<div class="uno-5d7pwz svelte-1rdogx5"><div class="svelte-1rdogx5"><label for="api-token-input" class="uno-swzuyi svelte-1rdogx5">API Token</label> <input id="api-token-input" type="text" placeholder="Enter your API token" class="uno-poyimg svelte-1rdogx5"/></div> <!> <button type="button" class="uno-lvwkw4 svelte-1rdogx5"><!></button></div>'),pa=c('<div class="uno-tonzaz svelte-1rdogx5"><h2 class="uno-1h2ycw svelte-1rdogx5">API Authentication</h2> <!></div>');function ga(Z,s){be(s,!0);const o="https://api.weebdex.org/upload/check-approval-required",l="weebdex_api_token",m=tt(at);if(!m)throw new Error("ApiAuthSetup must be used within a component that provides GlobalState context");let u=B(""),f=B(!1),S=B(null);const y=ae(()=>m.apiToken!==null);Ut(()=>{if(typeof window<"u"){const O=sessionStorage.getItem(l);O&&(m.apiToken=O)}});async function z(){if(!e(u).trim()){v(S,"Please enter an API token");return}v(f,!0),v(S,null);try{const O=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e(u).trim()}`},body:JSON.stringify({language:"en"})});if(O.ok){const w=e(u).trim();m.apiToken=w,typeof window<"u"&&sessionStorage.setItem(l,w),v(S,null)}else v(S,`Validation failed: ${O.status} ${O.statusText}`),m.apiToken=null,typeof window<"u"&&sessionStorage.removeItem(l)}catch(O){v(S,O instanceof Error?O.message:"Failed to validate API access",!0),m.apiToken=null,typeof window<"u"&&sessionStorage.removeItem(l)}finally{v(f,!1)}}function H(){v(u,""),m.apiToken=null,v(S,null),typeof window<"u"&&sessionStorage.removeItem(l)}var R=pa(),N=r(a(R),2);{var W=O=>{var w=ia(),p=a(w),d=r(a(p),2);d.__click=H,t(p),t(w),i(O,w)},M=O=>{var w=ca(),p=a(w),d=r(a(p),2);fe(d),d.__keydown=n=>{n.key==="Enter"&&!e(f)&&e(u).trim()&&z()},t(p);var b=r(p,2);{var P=n=>{var g=va(),D=a(g),K=a(D,!0);t(D),t(g),I(()=>F(K,e(S))),i(n,g)};U(b,n=>{e(S)&&n(P)})}var A=r(b,2);A.__click=z;var L=a(A);{var V=n=>{var g=ua();Xe(2),i(n,g)},h=n=>{var g=da();i(n,g)};U(L,n=>{e(f)?n(V):n(h,!1)})}t(A),t(w),I(n=>{d.disabled=e(f),A.disabled=n},[()=>e(f)||!e(u).trim()]),ze(d,()=>e(u),n=>v(u,n)),i(O,w)};U(N,O=>{e(y)?O(W):O(M,!1)})}t(R),i(Z,R),ye()}Ee(["click","keydown"]);var fa=c('<button type="button" class="uno-qi926s" title="Remove file"><span class="uno-yr9mvy"></span></button>'),_a=c('<div class="uno-6gqsv1 group"><div class="uno-grerth"><img class="uno-nw0a67" loading="lazy"/> <!></div> <div class="uno-hffin0"><span class="uno-gbi19s"> </span></div> <div class="uno-poz6tv"> </div></div>'),ha=c('<div class="uno-u6b4dy"><div class="uno-ju3a1i"></div></div>');function ma(Z,s){be(s,!0);function o(u){return URL.createObjectURL(u)}Ye(()=>()=>{});var l=ha(),m=a(l);pe(m,21,()=>s.files,ge,(u,f,S)=>{let y=()=>e(f).file;const z=ae(()=>o(y().file));var H=_a(),R=a(H),N=a(R),W=r(N,2);{var M=P=>{var A=fa();A.__click=L=>s.onRemove?.(S,L),i(P,A)};U(W,P=>{s.onRemove&&P(M)})}t(R);var O=r(R,2),w=a(O),p=a(w,!0);t(w),t(O);var d=r(O,2),b=a(d,!0);t(d),t(H),I(()=>{Ve(N,"src",e(z)),Ve(N,"alt",y().file.name),F(p,y().file.name),Ve(d,"title",y().file.name),F(b,y().file.name)}),i(u,H)}),t(m),t(l),i(Z,l),ye()}Ee(["click"]);var ba=c('<div class="uno-4ijsjy svelte-fmue06"></div>'),ya=c('<label><input type="checkbox" class="uno-p4egl0 svelte-fmue06"/> <span class="uno-igrbcn svelte-fmue06"> </span></label>'),xa=c('<div class="uno-3bh75o svelte-fmue06">No groups available. Add groups in the Group Management section above.</div>'),wa=c('<div class="uno-l3icsh group-dropdown-menu svelte-fmue06" role="presentation"><div class="uno-kxtst9 svelte-fmue06"><div class="uno-7saiu9 svelte-fmue06"><button type="button"><span class="uno-r4t96f svelte-fmue06"></span> <span class="svelte-fmue06">No Group</span></button> <!> <!> <!></div></div></div>');function ka(Z,s){be(s,!0);let o=B(null);function l(){if(s.buttonRef){const S=s.buttonRef.getBoundingClientRect();v(o,{top:S.bottom+4,left:S.left},!0)}}Ye(()=>{if(s.isOpen&&s.buttonRef){l();const S=()=>l(),y=()=>l(),z=R=>{const N=R.target,W=document.querySelector(".group-dropdown-menu");s.buttonRef&&!s.buttonRef.contains(N)&&W&&!W.contains(N)&&s.onOpenChange(!1)},H=setTimeout(()=>{window.addEventListener("scroll",S,!0),window.addEventListener("resize",y),document.addEventListener("click",z,!0)},10);return()=>{clearTimeout(H),window.removeEventListener("scroll",S,!0),window.removeEventListener("resize",y),document.removeEventListener("click",z,!0)}}});var m=Je(),u=Ne(m);{var f=S=>{var y=wa();y.__click=p=>p.stopPropagation();var z=a(y),H=a(z),R=a(H);R.__click=()=>{s.onClear(),s.onOpenChange(!1)};var N=r(R,2);{var W=p=>{var d=ba();i(p,d)};U(N,p=>{s.availableGroups.length>0&&p(W)})}var M=r(N,2);pe(M,17,()=>s.availableGroups,ge,(p,d)=>{var b=ya(),P=a(b);fe(P),P.__change=()=>s.onToggle(e(d).groupId);var A=r(P,2),L=a(A,!0);t(A),t(b),I((V,h)=>{Re(b,1,`uno-5usxmh ${V??""}`,"svelte-fmue06"),lt(P,h),F(L,e(d).groupName)},[()=>s.selectedGroupIds.includes(e(d).groupId)?"uno-kwn4w7":"",()=>s.selectedGroupIds.includes(e(d).groupId)]),i(p,b)});var O=r(M,2);{var w=p=>{var d=xa();i(p,d)};U(O,p=>{s.availableGroups.length===0&&p(w)})}t(H),t(z),t(y),I(()=>{Ie(y,`top: ${e(o).top??""}px; left: ${e(o).left??""}px;`),Re(R,1,`uno-aidwm4 ${s.selectedGroupIds.length===0?"uno-rwgn44":""}`,"svelte-fmue06")}),i(S,y)};U(u,S=>{s.isOpen&&e(o)&&S(f)})}i(Z,m),ye()}Ee(["click","change"]);var Sa=c('<span class="uno-5nh1c7"></span>'),Ea=c('<span class="uno-lgx965"></span>'),Ta=c('<input type="text" class="uno-y587eh"/>'),Ga=c('<span class="uno-cfqq1x"> </span>'),Ca=c('<input type="number" class="uno-k8r3vj"/>'),Fa=c('<span class="uno-z0ftjw"> </span>'),Pa=c('<input type="number" class="uno-k8r3vj"/>'),Aa=c('<span class="uno-z0ftjw"> </span>'),Ia=c('<span class="uno-o7ghkb">Manually Edited</span>'),Na=c('<span class="uno-2woycg"> </span>'),qa=c('<span class="uno-0l71hq"> </span>'),za=c('<div class="uno-khd5ye"><!> <!></div>'),Ra=c('<span class="uno-f772q3">No groups</span>'),ja=c('<button type="button" class="uno-nemy8t" title="Revert to default"><span class="uno-ixy7fo"></span> <span>Revert</span></button>'),Da=c('<div class="uno-sh8dvn"><div class="uno-u94s8t" role="button" tabindex="0"><button type="button" class="uno-udgolg"><!></button> <span class="uno-rodpo2"></span> <div class="uno-ddr1p8"><div class="uno-trq610"><div class="uno-fgct2x"><span class="uno-alho87">Title:</span> <!></div> <div class="uno-fgct2x"><span class="uno-alho87">Vol:</span> <!></div> <div class="uno-fgct2x"><span class="uno-alho87">Ch:</span> <!></div> <!> <div class="uno-acmey7"><span class="uno-alho87">Groups:</span> <div class="uno-61i0vo group-dropdown-container"><button type="button" class="uno-9ztw0n"><!> <span></span></button></div></div></div> <div class="uno-rzte7x"> </div></div> <!> <button type="button" class="uno-o1dk5j" title="Remove chapter"><span class="uno-8nde6j"></span> <span>Remove</span></button></div> <!></div> <!>',1);function Oa(Z,s){be(s,!0);let o=B(!1),l=B(null);const m=ae(()=>s.chapter.associatedGroup?.groupIds??[]);function u(_){_.focus(),_.select()}var f=Da(),S=Ne(f),y=a(S);y.__click=function(..._){s.onToggle?.apply(this,_)},y.__keydown=_=>{(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),s.onToggle())};var z=a(y);z.__click=_=>{_.stopPropagation(),s.onToggle()};var H=a(z);{var R=_=>{var G=Sa();i(_,G)},N=_=>{var G=Ea();i(_,G)};U(H,_=>{s.isExpanded?_(R):_(N,!1)})}t(z);var W=r(z,4),M=a(W),O=a(M),w=r(a(O),2);{var p=_=>{var G=Ta();fe(G),G.__keydown=q=>{q.key==="Enter"?q.currentTarget.blur():q.key==="Escape"&&(s.onCancelEditing(),q.currentTarget.blur())},G.__click=q=>q.stopPropagation(),ft(G,q=>u?.(q)),I(()=>gt(G,s.chapter.chapterTitle??"")),ct("blur",G,q=>s.onUpdateField("title",q.currentTarget.value)),i(_,G)},d=_=>{var G=Ga();G.__click=ke=>{ke.stopPropagation(),s.onStartEditing("title")};var q=a(G,!0);t(G),I(()=>F(q,s.chapter.chapterTitle??"Untitled")),i(_,G)};U(w,_=>{s.isEditingTitle?_(p):_(d,!1)})}t(O);var b=r(O,2),P=r(a(b),2);{var A=_=>{var G=Ca();fe(G),G.__keydown=q=>{q.key==="Enter"?q.currentTarget.blur():q.key==="Escape"&&(s.onCancelEditing(),q.currentTarget.blur())},G.__click=q=>q.stopPropagation(),ft(G,q=>u?.(q)),I(()=>gt(G,s.chapter.chapterVolume??"")),ct("blur",G,q=>s.onUpdateField("volume",q.currentTarget.value)),i(_,G)},L=_=>{var G=Fa();G.__click=ke=>{ke.stopPropagation(),s.onStartEditing("volume")};var q=a(G,!0);t(G),I(()=>F(q,s.chapter.chapterVolume??"—")),i(_,G)};U(P,_=>{s.isEditingVolume?_(A):_(L,!1)})}t(b);var V=r(b,2),h=r(a(V),2);{var n=_=>{var G=Pa();fe(G),G.__keydown=q=>{q.key==="Enter"?q.currentTarget.blur():q.key==="Escape"&&(s.onCancelEditing(),q.currentTarget.blur())},G.__click=q=>q.stopPropagation(),ft(G,q=>u?.(q)),I(()=>gt(G,s.chapter.chapterNumber??"")),ct("blur",G,q=>s.onUpdateField("number",q.currentTarget.value)),i(_,G)},g=_=>{var G=Aa();G.__click=ke=>{ke.stopPropagation(),s.onStartEditing("number")};var q=a(G,!0);t(G),I(()=>F(q,s.chapter.chapterNumber??"—")),i(_,G)};U(h,_=>{s.isEditingNumber?_(n):_(g,!1)})}t(V);var D=r(V,2);{var K=_=>{var G=Ia();i(_,G)};U(D,_=>{s.isManuallyEdited&&_(K)})}var te=r(D,2);te.__click=_=>_.stopPropagation();var Q=r(a(te),2),$=a(Q);$.__click=_=>{_.stopPropagation(),v(o,!e(o))};var le=a($);{var E=_=>{var G=za(),q=a(G);pe(q,17,()=>e(m).slice(0,2),ge,(Ce,Te)=>{var Fe=Na(),Qe=a(Fe,!0);t(Fe),I(je=>F(Qe,je),[()=>s.getGroupName(e(Te))]),i(Ce,Fe)});var ke=r(q,2);{var Le=Ce=>{var Te=qa(),Fe=a(Te);t(Te),I(()=>F(Fe,`+${e(m).length-2}`)),i(Ce,Te)};U(ke,Ce=>{e(m).length>2&&Ce(Le)})}t(G),i(_,G)},T=_=>{var G=Ra();i(_,G)};U(le,_=>{e(m).length>0?_(E):_(T,!1)})}var x=r(le,2);t($),Ft($,_=>v(l,_),()=>e(l)),t(Q),t(te),t(M);var C=r(M,2),se=a(C);t(C),t(W);var ee=r(W,2);{var Y=_=>{var G=ja();G.__click=q=>{q.stopPropagation(),s.onRevert()},i(_,G)};U(ee,_=>{s.isManuallyEdited&&_(Y)})}var we=r(ee,2);we.__click=_=>{_.stopPropagation(),s.onRemove()},t(y);var re=r(y,2);{var _e=_=>{{let G=ae(()=>s.chapter.pages.map(q=>({file:new At(q.pageFile,q.pageFile.name,It.UNKNOWN),folder:{}})));ma(_,{get files(){return e(G)},onRemove:(q,ke)=>s.onRemovePage(q,ke)})}};U(re,_=>{s.isExpanded&&_(_e)})}t(S);var Ge=r(S,2);ka(Ge,{get availableGroups(){return s.availableGroups},get selectedGroupIds(){return e(m)},get onToggle(){return s.onToggleGroup},get onClear(){return s.onClearGroups},get buttonRef(){return e(l)},get isOpen(){return e(o)},onOpenChange:_=>{v(o,_,!0)}}),I(_=>{Re(x,1,`uno-0l71hq i-mdi-chevron-${e(o)?"up":"down"}`),F(se,`Original: ${_??""} • ${s.chapter.pages.length??""} page${s.chapter.pages.length!==1?"s":""}`)},[()=>s.getFolderName(s.chapter)]),i(Z,f),ye()}Ee(["click","keydown"]);var Ua=c('<div class="uno-fr50j3 svelte-1jagt3t"><h3 class="uno-pdvlbj svelte-1jagt3t">Batch Extract from Folder Names</h3> <div class="uno-w66ozg svelte-1jagt3t"><div class="svelte-1jagt3t"><label for="title-regex" class="uno-460pmw svelte-1jagt3t">Title Regex Pattern</label> <div class="uno-nsbwd5 svelte-1jagt3t"><input id="title-regex" type="text" placeholder="e.g., ^(.+?)\\s+-\\s+Vol" class="uno-spcxt0 svelte-1jagt3t"/> <button type="button" class="uno-abxdne svelte-1jagt3t">Extract All</button></div> <p class="uno-7pvec8 svelte-1jagt3t">Use capture group (parentheses) to extract the title. Skips manually edited chapters.</p></div> <div class="svelte-1jagt3t"><label for="volume-regex" class="uno-460pmw svelte-1jagt3t">Volume Regex Pattern</label> <div class="uno-nsbwd5 svelte-1jagt3t"><input id="volume-regex" type="text" placeholder="e.g., Vol\\.\\s*(\\d+)" class="uno-spcxt0 svelte-1jagt3t"/> <button type="button" class="uno-abxdne svelte-1jagt3t">Extract All</button></div> <p class="uno-7pvec8 svelte-1jagt3t">Use capture group to extract volume number. Skips manually edited chapters.</p></div> <div class="svelte-1jagt3t"><label for="number-regex" class="uno-460pmw svelte-1jagt3t">Chapter Number Regex Pattern</label> <div class="uno-nsbwd5 svelte-1jagt3t"><input id="number-regex" type="text" placeholder="e.g., Ch\\.\\s*(\\d+)" class="uno-spcxt0 svelte-1jagt3t"/> <button type="button" class="uno-abxdne svelte-1jagt3t">Extract All</button></div> <p class="uno-7pvec8 svelte-1jagt3t">Use capture group to extract chapter number. Skips manually edited chapters.</p></div></div></div>');function Va(Z,s){be(s,!0);let o=B(""),l=B(""),m=B("");function u(){s.onApply(e(o),e(l),e(m))}var f=Ua(),S=r(a(f),2),y=a(S),z=r(a(y),2),H=a(z);fe(H);var R=r(H,2);R.__click=u,t(z),Xe(2),t(y);var N=r(y,2),W=r(a(N),2),M=a(W);fe(M);var O=r(M,2);O.__click=u,t(W),Xe(2),t(N);var w=r(N,2),p=r(a(w),2),d=a(p);fe(d);var b=r(d,2);b.__click=u,t(p),Xe(2),t(w),t(S),t(f),ze(H,()=>e(o),P=>v(o,P)),ze(M,()=>e(l),P=>v(l,P)),ze(d,()=>e(m),P=>v(m,P)),i(Z,f),ye()}Ee(["click"]);var La=c('<label><input type="checkbox" class="uno-6a2q4e svelte-1nbne8y"/> <span class="uno-cw9k8w svelte-1nbne8y"> </span></label>'),Ma=c('<div class="uno-ta9izk svelte-1nbne8y"><h3 class="uno-9zpfz4 svelte-1nbne8y">Batch Group Assignment</h3> <div class="uno-2eiha1 svelte-1nbne8y"><div class="svelte-1nbne8y"><label class="uno-xwufgo svelte-1nbne8y">Select Groups</label> <div class="uno-tdudm0 svelte-1nbne8y"></div></div> <div class="uno-ri1y97 svelte-1nbne8y"><button type="button" class="uno-h9s7ii svelte-1nbne8y">Assign to All Chapters</button> <button type="button" class="uno-t0f2f5 svelte-1nbne8y">Remove All Groups</button> <div class="uno-fipj7o svelte-1nbne8y"><label class="uno-c1x9t4 svelte-1nbne8y">Range:</label> <input type="number" placeholder="Start" min="1" class="uno-06ts34 svelte-1nbne8y"/> <span class="uno-t3zakf svelte-1nbne8y">to</span> <input type="number" placeholder="End" min="1" class="uno-06ts34 svelte-1nbne8y"/> <button type="button" class="uno-h9s7ii svelte-1nbne8y">Assign to Range</button></div></div></div></div>');function Ba(Z,s){be(s,!0);let o=B(Ue(new Set)),l=B(null),m=B(null);function u(R){const N=new Set(e(o));N.has(R)?N.delete(R):N.add(R),v(o,N,!0)}function f(){s.onAssignToAll(Array.from(e(o)))}function S(){e(l)!==null&&e(m)!==null&&(s.onAssignToRange(Array.from(e(o)),e(l),e(m)),v(l,null),v(m,null))}var y=Je(),z=Ne(y);{var H=R=>{var N=Ma(),W=r(a(N),2),M=a(W),O=r(a(M),2);pe(O,21,()=>s.availableGroups,ge,(V,h)=>{var n=La(),g=a(n);fe(g),g.__change=()=>u(e(h).groupId);var D=r(g,2),K=a(D,!0);t(D),t(n),I((te,Q)=>{Re(n,1,`uno-olm0f1 ${te??""}`,"svelte-1nbne8y"),lt(g,Q),F(K,e(h).groupName)},[()=>e(o).has(e(h).groupId)?"uno-04cv32":"",()=>e(o).has(e(h).groupId)]),i(V,n)}),t(O),t(M);var w=r(M,2),p=a(w);p.__click=f;var d=r(p,2);d.__click=function(...V){s.onRemoveAll?.apply(this,V)};var b=r(d,2),P=r(a(b),2);fe(P);var A=r(P,4);fe(A);var L=r(A,2);L.__click=S,t(b),t(w),t(W),t(N),I(()=>{p.disabled=e(o).size===0,Ve(P,"max",s.chaptersCount),Ve(A,"max",s.chaptersCount),L.disabled=e(o).size===0||e(l)===null||e(m)===null}),ze(P,()=>e(l),V=>v(l,V)),ze(A,()=>e(m),V=>v(m,V)),i(R,N)};U(z,R=>{s.availableGroups.length>0&&R(H)})}i(Z,y),ye()}Ee(["change","click"]);var Wa=c('<div class="uno-6jubiu svelte-154sr01"><!> <!> <div class="uno-v5f6vc svelte-154sr01"><div class="uno-7jpck0 svelte-154sr01"></div></div></div>');function Ka(Z,s){be(s,!0);const o=tt(at),l=ae(()=>o.chapterStates),m=ae(()=>o.availableScanGroups);let u=B(Ue(new Set)),f=B(Ue(new Set)),S=B(null),y=B(null);function z(E){return E.originalFolderPath||`chapter-${e(l).indexOf(E)}`}function H(E){const T=e(l)[E];if(!T)return;const x=z(T),C=new Set(e(u));C.has(x)?C.delete(x):C.add(x),v(u,C,!0)}function R(E,T){const x=e(l)[E];if(!x)return;const C=z(x);v(S,C,!0),v(y,T,!0),e(f).add(C),v(f,new Set(e(f)),!0)}function N(E){return[...E].sort((T,x)=>{const C=T.chapterVolume,se=x.chapterVolume;if(!(C===null&&se===null)){if(C===null)return 1;if(se===null)return-1;{const we=String(C).localeCompare(String(se),void 0,{numeric:!0,sensitivity:"base"});if(we!==0)return we}}const ee=T.chapterNumber,Y=x.chapterNumber;return ee===null&&Y===null?0:ee===null?1:Y===null?-1:String(ee).localeCompare(String(Y),void 0,{numeric:!0,sensitivity:"base"})})}function W(E,T,x){const C=e(l)[E];if(C)if(T==="title"?C.chapterTitle=x:T==="volume"?C.chapterVolume=x===""||x===null?null:Number(x):T==="number"&&(C.chapterNumber=x===""||x===null?null:Number(x)),v(S,null),v(y,null),T==="volume"||T==="number"){const se=N(e(l));o.chapterStates=se}else o.chapterStates=[...e(l)]}function M(){v(S,null),v(y,null)}function O(E){const T=e(l)[E];if(!T||!T.originalFolderPath)return;const x=z(T);T.chapterTitle=T.originalFolderPath,T.chapterVolume=null,T.chapterNumber=E+1,e(f).delete(x),v(f,new Set(e(f)),!0);const C=N(e(l));o.chapterStates=C}function w(E,T){if(!T.trim())return null;try{const x=new RegExp(T),C=E.match(x);return C&&C[1]?C[1]:null}catch(x){return console.error("Invalid regex pattern:",x),null}}function p(E,T){const x=w(E,T);if(!x)return null;const C=Number(x);return isNaN(C)?null:C}function d(E,T,x){console.log("Applying batch extraction");let C=!1,se=!1;for(let ee=0;ee<e(l).length;ee++){const Y=e(l)[ee];if(!Y.originalFolderPath)continue;const we=z(Y);if(!e(f).has(we)){if(console.log(`Chapter ${ee}: ${Y.originalFolderPath}`),E.trim()){const re=w(Y.originalFolderPath,E);re!==null&&Y.chapterTitle!==re&&(Y.chapterTitle=re,C=!0,console.log(`Chapter title changed from ${Y.chapterTitle} to ${re}`))}if(T.trim()){const re=p(Y.originalFolderPath,T);re!==null&&Y.chapterVolume!==re&&(console.log(`Chapter volume changed from ${Y.chapterVolume} to ${re}`),Y.chapterVolume=re,C=!0,se=!0)}if(x.trim()){const re=p(Y.originalFolderPath,x);re!==null&&Y.chapterNumber!==re&&(console.log(`Chapter number changed from ${Y.chapterNumber} to ${re}`),Y.chapterNumber=re,C=!0,se=!0)}}}if(C)if(se){const ee=N(e(l));o.chapterStates=ee}else o.chapterStates=[...e(l)]}function b(E,T,x){const C=e(l)[E];if(!C)return;const se=C.pages.filter((ee,Y)=>Y!==T);C.pages=se,C.checkProgress(),se.length===0?o.chapterStates=e(l).filter((ee,Y)=>Y!==E):o.chapterStates=[...e(l)]}function P(E){return s.rootFolder&&E.originalFolderPath?E.originalFolderPath:E.originalFolderPath||"Unknown"}function A(E){for(const T of e(l))T.associatedGroup||(T.associatedGroup=new nt),T.associatedGroup.groupIds=[...E];o.chapterStates=[...e(l)]}function L(E,T,x){const C=Math.min(T-1,x-1),se=Math.max(T-1,x-1);for(let ee=C;ee<=se&&ee<e(l).length;ee++){if(ee<0)continue;const Y=e(l)[ee];Y.associatedGroup||(Y.associatedGroup=new nt),Y.associatedGroup.groupIds=[...E]}o.chapterStates=[...e(l)]}function V(E,T){const x=e(l)[E];x&&(T.length===0?x.associatedGroup=null:(x.associatedGroup||(x.associatedGroup=new nt),x.associatedGroup.groupIds=[...T]),o.chapterStates=[...e(l)])}function h(E,T){const x=e(l)[E];if(!x)return;const C=x.associatedGroup?.groupIds??[],se=C.includes(T)?C.filter(ee=>ee!==T):[...C,T];V(E,se)}function n(E){V(E,[])}function g(){for(let E=0;E<e(l).length;E++)n(E)}function D(E){return e(m).find(x=>x.groupId===E)?.groupName??E}var K=Wa(),te=a(K);Va(te,{onApply:d});var Q=r(te,2);Ba(Q,{get availableGroups(){return e(m)},get chaptersCount(){return e(l).length},onAssignToAll:A,onAssignToRange:L,onRemoveAll:g});var $=r(Q,2),le=a($);pe(le,21,()=>e(l),ge,(E,T,x)=>{const C=ae(()=>z(e(T))),se=ae(()=>e(u).has(e(C))),ee=ae(()=>e(f).has(e(C))),Y=ae(()=>e(S)===e(C)&&e(y)==="title"),we=ae(()=>e(S)===e(C)&&e(y)==="volume"),re=ae(()=>e(S)===e(C)&&e(y)==="number");Oa(E,{get chapter(){return e(T)},chapterIndex:x,get chapterKey(){return e(C)},get rootFolder(){return s.rootFolder},get availableGroups(){return e(m)},get isExpanded(){return e(se)},get isManuallyEdited(){return e(ee)},get isEditingTitle(){return e(Y)},get isEditingVolume(){return e(we)},get isEditingNumber(){return e(re)},onToggle:()=>H(x),onStartEditing:_e=>R(x,_e),onUpdateField:(_e,Ge)=>W(x,_e,Ge),onCancelEditing:M,onRevert:()=>O(x),onRemove:()=>{o.chapterStates=e(l).filter((_e,Ge)=>Ge!==x)},onRemovePage:(_e,Ge)=>b(x,_e),onToggleGroup:_e=>h(x,_e),onClearGroups:()=>n(x),getFolderName:P,getGroupName:D})}),t(le),t($),t(K),i(Z,K),ye()}var Ha=c('<img class="uno-id9bfd svelte-l089ye"/>'),Ja=c('<div class="uno-nqhf1x prose prose-sm dark:prose-invert svelte-l089ye"><p class="uno-zwrhaa svelte-l089ye"> </p></div>'),Ya=c('<p class="uno-u46ofh svelte-l089ye">No description available</p>'),Qa=c('<div class="uno-xozz89 svelte-l089ye"><div class="uno-rdstx7 svelte-l089ye"><div class="uno-pkqe5i svelte-l089ye"><div class="uno-owd188 svelte-l089ye"><svg class="uno-yx1s55 svelte-l089ye" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" class="svelte-l089ye"></path></svg> <span class="uno-hor639 svelte-l089ye">Series validated successfully</span></div> <button type="button" class="uno-d0x31u svelte-l089ye">Reset</button></div> <div class="uno-fxg0ng svelte-l089ye"><!> <div class="uno-z2v5im svelte-l089ye"><h3 class="uno-penm65 svelte-l089ye"> </h3> <!></div></div></div></div>'),Xa=c('<div class="uno-75dukm svelte-l089ye"><p class="uno-4c1zzc svelte-l089ye"> </p></div>'),Za=c('<svg class="uno-5wz5b1 svelte-l089ye" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="uno-tqo6wb svelte-l089ye" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="uno-neioce svelte-l089ye" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="svelte-l089ye">Validating...</span>',1),$a=c('<span class="svelte-l089ye">Validate Series</span>'),es=c('<div class="uno-gixdos svelte-l089ye"><div class="svelte-l089ye"><label for="series-id-input" class="uno-rkzb25 svelte-l089ye">Series ID</label> <input id="series-id-input" type="text" placeholder="Enter series ID" class="uno-dihrgb svelte-l089ye"/></div> <!> <button type="button" class="uno-5ad5gf svelte-l089ye"><!></button></div>'),ts=c('<div class="uno-551nok svelte-l089ye"><h2 class="uno-2gl9g3 svelte-l089ye">Series Selection</h2> <!></div>');function as(Z,s){be(s,!0);const o=tt(at);if(!o)throw new Error("SeriesSetter must be used within a component that provides GlobalState context");let l=B(""),m=B(!1),u=B(null),f=B(null);const S=ae(()=>o.seriesId);Ye(()=>{o.seriesId&&!e(f)&&y(o.seriesId)});async function y(w){v(m,!0),v(u,null);try{const p=await fetch(`https://api.weebdex.org/manga/${w}`);if(p.ok){const d=await p.json();v(f,d,!0),v(u,null)}else v(u,`Series not found: ${p.status} ${p.statusText}`),o.seriesId=null,v(f,null)}catch(p){v(u,p instanceof Error?p.message:"Failed to load series",!0),o.seriesId=null,v(f,null)}finally{v(m,!1)}}async function z(){if(!e(l).trim()){v(u,"Please enter a series ID");return}await y(e(l).trim()),e(f)&&(o.seriesId=e(l).trim())}function H(){v(l,""),o.seriesId=null,v(u,null),v(f,null)}function R(){return!e(f)?.relationships?.cover?.id||!o.seriesId?null:`https://srv.notdelta.xyz/covers/${o.seriesId}/${e(f).relationships.cover.id}.256.webp`}var N=ts(),W=r(a(N),2);{var M=w=>{var p=Qa(),d=a(p),b=a(d),P=r(a(b),2);P.__click=H,t(b);var A=r(b,2),L=a(A);{var V=Q=>{var $=Ha();I(le=>{Ve($,"src",le),Ve($,"alt",e(f).title||"Cover")},[R]),i(Q,$)};U(L,Q=>{R()&&Q(V)})}var h=r(L,2),n=a(h),g=a(n,!0);t(n);var D=r(n,2);{var K=Q=>{var $=Ja(),le=a($),E=a(le,!0);t(le),t($),I(()=>F(E,e(f).description)),i(Q,$)},te=Q=>{var $=Ya();i(Q,$)};U(D,Q=>{e(f).description?Q(K):Q(te,!1)})}t(h),t(A),t(d),t(p),I(()=>F(g,e(f).title||"Untitled")),i(w,p)},O=w=>{var p=es(),d=a(p),b=r(a(d),2);fe(b),b.__keydown=g=>{g.key==="Enter"&&!e(m)&&e(l).trim()&&z()},t(d);var P=r(d,2);{var A=g=>{var D=Xa(),K=a(D),te=a(K,!0);t(K),t(D),I(()=>F(te,e(u))),i(g,D)};U(P,g=>{e(u)&&g(A)})}var L=r(P,2);L.__click=z;var V=a(L);{var h=g=>{var D=Za();Xe(2),i(g,D)},n=g=>{var D=$a();i(g,D)};U(V,g=>{e(m)?g(h):g(n,!1)})}t(L),t(p),I(g=>{b.disabled=e(m),L.disabled=g},[()=>e(m)||!e(l).trim()]),ze(b,()=>e(l),g=>v(l,g)),i(w,p)};U(W,w=>{e(S)&&e(f)?w(M):w(O,!1)})}t(N),i(Z,N),ye()}Ee(["click","keydown"]);var ss=c('<div class="uno-8ttqbq svelte-omara0"><p class="uno-7i1zto svelte-omara0"> </p></div>'),rs=c('<svg class="uno-o6kbef svelte-omara0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="uno-1n58b5 svelte-omara0" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="uno-di9bu6 svelte-omara0" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="svelte-omara0">Validating...</span>',1),ns=c('<span class="svelte-omara0">Add Group</span>'),ls=c('<div class="uno-2ronwb svelte-omara0"><div class="uno-b9eywu svelte-omara0"><div class="uno-vizymv svelte-omara0"> </div> <div class="uno-jquur0 svelte-omara0"> </div></div> <button type="button" class="uno-e6hi5x svelte-omara0" title="Remove group"><span class="uno-1usprd svelte-omara0"></span> <span class="svelte-omara0">Remove</span></button></div>'),os=c('<div class="uno-kcr5te svelte-omara0"><h3 class="uno-q8f9ux svelte-omara0"> </h3> <div class="uno-37rkph svelte-omara0"></div></div>'),is=c('<div class="uno-xiw8g5 svelte-omara0"><p class="uno-mybzf9 svelte-omara0">No groups registered yet. Add a group ID above to get started.</p></div>'),vs=c('<div class="uno-4wy8l4 svelte-omara0"><h2 class="uno-sbsh7t svelte-omara0">Scan Group Management</h2> <div class="uno-1083ww svelte-omara0"><div class="svelte-omara0"><label for="group-id-input" class="uno-1sfydz svelte-omara0">Group ID</label> <input id="group-id-input" type="text" placeholder="Enter group ID" class="uno-pb0dmp svelte-omara0"/></div> <!> <button type="button" class="uno-m47lad svelte-omara0"><!></button></div> <!></div>');function us(Z,s){be(s,!0);const o=tt(at);if(!o)throw new Error("GroupSetter must be used within a component that provides GlobalState context");let l=B(""),m=B(!1),u=B(null),f=B(null);const S=ae(()=>o.availableScanGroups);async function y(h){v(m,!0),v(u,null);try{const n=await fetch(`https://api.weebdex.org/group/${h}`);if(n.ok){const g=await n.json();v(f,g,!0),v(u,null)}else v(u,`Group not found: ${n.status} ${n.statusText}`),v(f,null)}catch(n){v(u,n instanceof Error?n.message:"Failed to load group",!0),v(f,null)}finally{v(m,!1)}}async function z(){if(!e(l).trim()){v(u,"Please enter a group ID");return}if(await y(e(l).trim()),e(f)&&e(f).id&&e(f).name){const h=e(f).id,n=e(f).name;if(o.availableScanGroups.find(K=>K.groupId===h)){v(u,"This group is already registered");return}const D=new Nt;D.groupId=h,D.groupName=n,o.availableScanGroups=[...o.availableScanGroups,D],v(l,""),v(f,null),v(u,null)}}function H(h){o.availableScanGroups=o.availableScanGroups.filter(n=>n.groupId!==h)}var R=vs(),N=r(a(R),2),W=a(N),M=r(a(W),2);fe(M),M.__keydown=h=>{h.key==="Enter"&&!e(m)&&e(l).trim()&&z()},t(W);var O=r(W,2);{var w=h=>{var n=ss(),g=a(n),D=a(g,!0);t(g),t(n),I(()=>F(D,e(u))),i(h,n)};U(O,h=>{e(u)&&h(w)})}var p=r(O,2);p.__click=z;var d=a(p);{var b=h=>{var n=rs();Xe(2),i(h,n)},P=h=>{var n=ns();i(h,n)};U(d,h=>{e(m)?h(b):h(P,!1)})}t(p),t(N);var A=r(N,2);{var L=h=>{var n=os(),g=a(n),D=a(g);t(g);var K=r(g,2);pe(K,21,()=>e(S),ge,(te,Q)=>{var $=ls(),le=a($),E=a(le),T=a(E,!0);t(E);var x=r(E,2),C=a(x);t(x),t(le);var se=r(le,2);se.__click=()=>H(e(Q).groupId),t($),I(()=>{F(T,e(Q).groupName),F(C,`ID: ${e(Q).groupId??""}`)}),i(te,$)}),t(K),t(n),I(()=>F(D,`Registered Groups (${e(S).length??""})`)),i(h,n)},V=h=>{var n=is();i(h,n)};U(A,h=>{e(S).length>0?h(L):h(V,!1)})}t(R),I(h=>{M.disabled=e(m),p.disabled=h},[()=>e(m)||!e(l).trim()]),ze(M,()=>e(l),h=>v(l,h)),i(Z,R),ye()}Ee(["keydown","click"]);var ds=c('<div class="uno-r6aqsk svelte-xmrsyq"> </div>'),cs=c('<div class="uno-ewvz8s svelte-xmrsyq"> </div>'),ps=c('<span class="uno-zqt78o svelte-xmrsyq"> </span>'),gs=c('<span class="uno-zqt78o svelte-xmrsyq"> </span>'),fs=c('<div class="uno-a21gsh svelte-xmrsyq"> </div>'),_s=c('<div class="uno-e1o4ay svelte-xmrsyq"> </div>'),hs=c('<span class="uno-qtlkh9 svelte-xmrsyq"> </span>'),ms=c('<div class="uno-mpc2xh svelte-xmrsyq"><div class="uno-rq57ze svelte-xmrsyq"></div> <div class="uno-v1d04p svelte-xmrsyq"><span class="uno-cvhusj svelte-xmrsyq"></span> <!></div></div>'),bs=c('<div><div class="uno-ib1qr4 svelte-xmrsyq"><div class="uno-8hzfg2 svelte-xmrsyq"><div class="uno-cvrfyi svelte-xmrsyq"><h4 class="uno-9mxr6r svelte-xmrsyq"> </h4> <!> <!></div> <!></div> <div class="uno-1wtsvm svelte-xmrsyq"><span> </span> <span class="uno-dfqhj2 svelte-xmrsyq"> </span></div></div> <div class="uno-bwao40 svelte-xmrsyq"><div class="uno-3s92rf svelte-xmrsyq"></div></div> <!> <div class="uno-fdfa28 svelte-xmrsyq"><div class="uno-hyngnn svelte-xmrsyq"> </div> <div class="uno-hwacq9 svelte-xmrsyq"></div></div></div>'),ys=c('<div class="uno-kfakqd svelte-xmrsyq"><div class="uno-20gq8t svelte-xmrsyq"><div class="uno-ib1qr4 svelte-xmrsyq"><h3 class="uno-ajms6g svelte-xmrsyq">Upload Progress</h3> <div class="uno-ju9510 svelte-xmrsyq"><span> </span> <span class="uno-zqt78o svelte-xmrsyq"> </span></div></div> <div class="uno-yj4ojc svelte-xmrsyq"><div class="uno-3s92rf svelte-xmrsyq"></div></div> <!> <!></div> <div class="uno-mpve3k svelte-xmrsyq"></div></div>');function xs(Z,s){be(s,!0);function o(n){switch(n){case ce.NOT_STARTED:case Se.NOT_STARTED:return"bg-gray-300 dark:bg-gray-600";case ce.WAITING:case ce.IN_PROGRESS:case Se.IN_PROGRESS:return"bg-blue-500";case ce.COMPLETED:case Se.COMPLETED:return"bg-green-500";case ce.FAILED:case Se.FAILED:return"bg-red-500";default:return"bg-gray-300 dark:bg-gray-600"}}function l(n){switch(n){case ue.NOT_STARTED:return"rgb(209 213 219)";case ue.WAITING:return"rgb(250 204 21)";case ue.UPLOADING:return"rgb(59 130 246)";case ue.UPLOADED:return"rgb(34 197 94)";case ue.FAILED:return"rgb(239 68 68)";default:return"rgb(209 213 219)"}}function m(n){switch(n){case ce.NOT_STARTED:case Se.NOT_STARTED:return"Not Started";case ce.WAITING:return"Waiting";case ce.IN_PROGRESS:case Se.IN_PROGRESS:return"In Progress";case ce.COMPLETED:case Se.COMPLETED:return"Completed";case ce.FAILED:case Se.FAILED:return"Failed";default:return"Unknown"}}function u(n){switch(n){case ue.NOT_STARTED:return"Not Started";case ue.WAITING:return"Waiting";case ue.UPLOADING:return"Uploading";case ue.UPLOADED:return"Uploaded";case ue.FAILED:return"Failed";default:return"Unknown"}}function f(n){return`${Math.round(n*100)}%`}function S(n){switch(n){case ce.NOT_STARTED:case Se.NOT_STARTED:return"rgb(209 213 219)";case ce.WAITING:case ce.IN_PROGRESS:case Se.IN_PROGRESS:return"rgb(59 130 246)";case ce.COMPLETED:case Se.COMPLETED:return"rgb(34 197 94)";case ce.FAILED:case Se.FAILED:return"rgb(239 68 68)";default:return"rgb(209 213 219)"}}function y(n){return S(n)}function z(n){switch(n){case ue.NOT_STARTED:return"rgb(209 213 219)";case ue.WAITING:return"rgb(250 204 21)";case ue.UPLOADING:return"rgb(59 130 246)";case ue.UPLOADED:return"rgb(34 197 94)";case ue.FAILED:return"rgb(239 68 68)";default:return"rgb(209 213 219)"}}var H=ys(),R=a(H),N=a(R),W=r(a(N),2),M=a(W),O=a(M,!0);t(M);var w=r(M,2),p=a(w,!0);t(w),t(W),t(N);var d=r(N,2),b=a(d);t(d);var P=r(d,2);{var A=n=>{var g=ds(),D=a(g,!0);t(g),I(()=>F(D,s.uploader.error)),i(n,g)};U(P,n=>{s.uploader.error&&n(A)})}var L=r(P,2);{var V=n=>{var g=cs(),D=a(g);t(g),I(()=>F(D,`Uploading chapter ${s.uploader.currentChapterIndex+1} of ${s.uploader.chapters.length??""}`)),i(n,g)};U(L,n=>{s.uploader.currentChapterIndex>=0&&s.uploader.currentChapterIndex<s.uploader.chapters.length&&n(V)})}t(R);var h=r(R,2);pe(h,21,()=>s.uploader.chapters,ge,(n,g,D)=>{const K=ae(()=>D===s.uploader.currentChapterIndex),te=ae(()=>e(g).progress),Q=ae(()=>e(g).status);var $=bs(),le=a($),E=a(le),T=a(E),x=a(T),C=a(x,!0);t(x);var se=r(x,2);{var ee=oe=>{var ne=ps(),xe=a(ne);t(ne),I(()=>F(xe,`Vol. ${e(g).chapterVolume??""}`)),i(oe,ne)};U(se,oe=>{e(g).chapterVolume!==null&&oe(ee)})}var Y=r(se,2);{var we=oe=>{var ne=gs(),xe=a(ne);t(ne),I(()=>F(xe,`Ch. ${e(g).chapterNumber??""}`)),i(oe,ne)};U(Y,oe=>{e(g).chapterNumber!==null&&oe(we)})}t(T);var re=r(T,2);{var _e=oe=>{var ne=fs(),xe=a(ne,!0);t(ne),I(()=>F(xe,e(g).originalFolderPath)),i(oe,ne)};U(re,oe=>{e(g).originalFolderPath&&oe(_e)})}t(E);var Ge=r(E,2),_=a(Ge),G=a(_,!0);t(_);var q=r(_,2),ke=a(q,!0);t(q),t(Ge),t(le);var Le=r(le,2),Ce=a(Le);t(Le);var Te=r(Le,2);{var Fe=oe=>{var ne=_s(),xe=a(ne,!0);t(ne),I(()=>F(xe,e(g).error)),i(oe,ne)};U(Te,oe=>{e(g).error&&oe(Fe)})}var Qe=r(Te,2),je=a(Qe),st=a(je);t(je);var Ze=r(je,2);pe(Ze,21,()=>e(g).pages,ge,(oe,ne,xe)=>{const qe=ae(()=>e(ne).progress),De=ae(()=>e(ne).status),ot=ae(()=>e(De)===ue.UPLOADING),it=ae(()=>e(ot)&&e(qe)>0&&e(qe)<1);var Me=ms(),k=a(Me),j=r(k,2),X=a(j);X.textContent=xe+1;var ie=r(X,2);{var J=de=>{var ve=hs(),he=a(ve,!0);t(ve),I(me=>F(he,me),[()=>f(e(qe))]),i(de,ve)};U(ie,de=>{e(it)&&de(J)})}t(j),t(Me),I((de,ve,he,me)=>{Ie(Me,`border-color: ${de??""}`),Ve(Me,"title",`${e(ne).pageName??""} - ${ve??""} (${he??""})`),Ie(k,`width: ${e(qe)*100}%; background-color: ${me??""}`)},[()=>z(e(De)),()=>u(e(De)),()=>f(e(qe)),()=>l(e(De))]),i(oe,Me)}),t(Ze),t(Qe),t($),I((oe,ne,xe,qe,De)=>{Re($,1,`uno-6vhbbr ${e(K)?"uno-2vsrk4":""}`,"svelte-xmrsyq"),Ie($,oe),F(C,e(g).chapterTitle||"Untitled Chapter"),Re(_,1,`uno-ls6u9m ${ne??""}`,"svelte-xmrsyq"),F(G,xe),F(ke,qe),Ie(Ce,`width: ${e(te)*100}%; background-color: ${De??""}`),F(st,`Pages (${e(g).pages.length??""})`)},[()=>e(K)?void 0:`border-left-color: ${S(e(Q))}`,()=>o(e(Q)),()=>m(e(Q)),()=>f(e(te)),()=>y(e(Q))]),i(n,$)}),t(h),t(H),I((n,g,D,K,te)=>{Ie(R,`border-left-color: ${n??""}`),Re(M,1,`uno-0h4ege ${g??""}`,"svelte-xmrsyq"),F(O,D),F(p,K),Ie(b,`width: ${s.uploader.progress*100}%; background-color: ${te??""}`)},[()=>S(s.uploader.status),()=>o(s.uploader.status),()=>m(s.uploader.status),()=>f(s.uploader.progress),()=>y(s.uploader.status)]),i(Z,H),ye()}var ws=c("<!> <!>",1),ks=c('<div class="uno-6n0vld svelte-8yc7e2"><div class="uno-wb6spe svelte-8yc7e2"><h2 class="uno-pkzde5 svelte-8yc7e2">Upload Progress</h2> <button type="button" class="uno-8mh854 svelte-8yc7e2">Back to Chapters</button></div> <!></div>'),Ss=c('<div class="uno-6n0vld svelte-8yc7e2"><h2 class="uno-pkzde5 svelte-8yc7e2">Chapters</h2> <!> <div class="uno-mk05vz svelte-8yc7e2"><button type="button" class="uno-06e6mo svelte-8yc7e2">Start Upload</button></div></div>'),Es=c('<div class="uno-16mjcn svelte-8yc7e2"><!> <!> <!></div>');function Ts(Z,s){be(s,!0);const o=tt(at),l=new qt,m=new nt;function u(d){return d.map((b,P)=>{const A=s.rootFolder?et(s.rootFolder,b.nameFolder)??b.name:b.name,V=[...b.files].sort((h,n)=>h.file.file.name.localeCompare(n.file.file.name,void 0,{numeric:!0,sensitivity:"base"})).map((h,n)=>new zt(h.file.file.name,n,h.file.file,ue.NOT_STARTED,0,null,null,!1,h.file.type));return new Rt(A,A,null,(P+1).toString(),l,m,V,ce.NOT_STARTED,0)})}let f=B(null);Ye(()=>{if(e(f)!==s.groups){const d=u(s.groups);o.chapterStates=d,v(f,s.groups,!0)}}),Ye(()=>{o.seriesId&&(l.seriesId=o.seriesId)});let S=B(!1),y=B(null);function z(){if(!o.apiToken){alert("Please set up API authentication first");return}if(!o.seriesId){alert("Please set a series ID first");return}if(o.chapterStates.length===0){alert("No chapters to upload");return}v(y,new jt([...o.chapterStates],o.apiToken),!0),v(S,!0),e(y).uploadAll().catch(d=>{console.error("Upload error:",d)})}function H(){v(S,!1),v(y,null)}var R=Es(),N=a(R);ga(N,{});var W=r(N,2);{var M=d=>{var b=ws(),P=Ne(b);as(P,{});var A=r(P,2);us(A,{}),i(d,b)};U(W,d=>{o.apiToken&&d(M)})}var O=r(W,2);{var w=d=>{var b=ks(),P=a(b),A=r(a(P),2);A.__click=H,t(P);var L=r(P,2);xs(L,{get uploader(){return e(y)}}),t(b),I(()=>A.disabled=e(y).status===Se.IN_PROGRESS),i(d,b)},p=d=>{var b=Ss(),P=r(a(b),2);Ka(P,{get rootFolder(){return s.rootFolder}});var A=r(P,2),L=a(A);L.__click=z,t(A),t(b),I(()=>L.disabled=!o.apiToken||!o.seriesId||o.chapterStates.length===0),i(d,b)};U(O,d=>{e(S)&&e(y)?d(w):d(p,!1)})}t(R),i(Z,R),ye()}Ee(["click"]);var Gs=c('<div class="uno-uyw3i9 svelte-1uha8ag"><p class="uno-7y5hz0 svelte-1uha8ag"> </p></div>'),Cs=c('<div class="uno-bgxfj1 svelte-1uha8ag"><div class="uno-06uvvn svelte-1uha8ag"></div> <p class="uno-sk0rlr svelte-1uha8ag"> </p></div>'),Fs=c('<div class="uno-8zl9ln svelte-1uha8ag"><div class="uno-kh36je svelte-1uha8ag"><h2 class="uno-6xs9r3 svelte-1uha8ag">Upload Groups</h2> <button type="button" class="uno-f25ga8 svelte-1uha8ag">Back to Selector</button></div> <!></div>'),Ps=c('<div class="uno-5jy1hj svelte-1uha8ag"><div class="svelte-1uha8ag"><h2 class="uno-m5jn0j svelte-1uha8ag">Folder Structure</h2> <!></div> <div class="svelte-1uha8ag"><h2 class="uno-m5jn0j svelte-1uha8ag">Vertical Slice Selector</h2> <!></div></div>'),As=c('<div class="uno-xdqzqt svelte-1uha8ag"><p class="uno-chslf0 svelte-1uha8ag">No image files found in the selected folder. Please select a folder containing image files.</p></div>'),Is=c('<div class="uno-7t7hms svelte-1uha8ag"><h1 class="uno-yjkjik svelte-1uha8ag">Batch Image Uploader</h1> <!> <!> <!></div>');function Ms(Z,s){be(s,!0);let o=B(null),l=B(!1),m=B(Ue([])),u=B(Ue(new pt("/","/",[],[],0,0))),f=B(""),S=B(!1),y=B(Ue([]));Ye(()=>{if(!e(o)){v(m,[],!0),v(u,new pt("/","/",[],[],0,0),!0);return}const w=e(o);v(l,!0),v(f,`Filtering image files from ${w.length} total file${w.length!==1?"s":""}...`);const p=Dt(w);if(v(m,p,!0),p.length===0){v(u,new pt("/","/",[],[],0,0),!0),v(l,!1),v(f,"");return}v(f,`Grouping ${p.length} image file${p.length!==1?"s":""} by folders...`);const d=Ot(p);console.log("Grouped folders:",d),v(u,d,!0),v(l,!1),v(f,"")});var z=Is(),H=r(a(z),2);Mt(H,{get files(){return e(o)},set files(w){v(o,w,!0)}});var R=r(H,2);{var N=w=>{var p=Gs(),d=a(p),b=a(d);t(d),t(p),I(()=>F(b,`Total files selected: ${e(o).length??""} • Image files: ${e(m).length??""} • Non-image files
				filtered: ${e(o).length-e(m).length}`)),i(w,p)};U(R,w=>{e(o)&&!e(l)&&w(N)})}var W=r(R,2);{var M=w=>{var p=Cs(),d=r(a(p),2),b=a(d,!0);t(d),t(p),I(()=>F(b,e(f))),i(w,p)},O=w=>{var p=Je(),d=Ne(p);{var b=A=>{var L=Je(),V=Ne(L);{var h=g=>{var D=Fs(),K=a(D),te=r(a(K),2);te.__click=()=>v(S,!1),t(K);var Q=r(K,2);Ts(Q,{get groups(){return e(y)},get rootFolder(){return e(u)}}),t(D),i(g,D)},n=g=>{var D=Ps(),K=a(D),te=r(a(K),2);xt(te,{get folder(){return e(u)}}),t(K);var Q=r(K,2),$=r(a(Q),2);oa($,{get folder(){return e(u)},onProcess:le=>{v(y,le,!0),v(S,!0)}}),t(Q),t(D),i(g,D)};U(V,g=>{e(S)?g(h):g(n,!1)})}i(A,L)},P=A=>{var L=Je(),V=Ne(L);{var h=n=>{var g=As();i(n,g)};U(V,n=>{e(o)&&e(m).length===0&&n(h)},!0)}i(A,L)};U(d,A=>{e(u)&&(e(u).files.length>0||e(u).folders.length>0)?A(b):A(P,!1)},!0)}i(w,p)};U(W,w=>{e(l)?w(M):w(O,!1)})}t(z),i(Z,z),ye()}Ee(["click"]);export{Ms as component,Ls as universal};
