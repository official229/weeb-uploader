import{E as B,i as T,F as D,G as Y,H as M,I as N,J as x,K as F,M as A,O as U,P as $,o as R,v as q,S as O,Q as w,R as C,g as b,T as G,p as H,a as Z,U as z,V as J,W as K,X as Q,Y as V,Z as W,_ as X,$ as j,a0 as k}from"./BZUToVjJ.js";import{B as m}from"./C2xWFVZm.js";function er(r,a,n=!1){T&&D();var f=new m(r),i=n?Y:0;function e(s,u){if(T){const d=M(r)===N;if(s===d){var _=x();F(_),f.anchor=_,A(!1),f.ensure(s,u),A(!0);return}}f.ensure(s,u)}B(()=>{var s=!1;a((u,_=!0)=>{s=!0,e(_,u)}),s||e(!1,null)},i)}function I(r,a){return r===a||r?.[O]===a}function ir(r={},a,n,f){return U(()=>{var i,e;return $(()=>{i=e,e=[],R(()=>{r!==n(...e)&&(a(r,...e),i&&I(n(...i),r)&&a(null,...i))})}),()=>{q(()=>{e&&I(n(...e),r)&&a(null,...e)})}}),r}let g=!1;function p(r){var a=g;try{return g=!1,[r(),g]}finally{g=a}}function sr(r,a,n,f){var i=(n&k)!==0,e=(n&j)!==0,s=f,u=!0,_=()=>(u&&(u=!1,s=e?R(f):f),s),d;if(i){var y=O in r||Q in r;d=w(r,a)?.set??(y&&a in r?t=>r[a]=t:void 0)}var v,E=!1;i?[v,E]=p(()=>r[a]):v=r[a],v===void 0&&f!==void 0&&(v=_(),d&&(C(),d(v)));var l;if(l=()=>{var t=r[a];return t===void 0?_():(u=!0,t)},(n&W)===0)return l;if(d){var L=r.$$legacy;return(function(t,S){return arguments.length>0?((!S||L||E)&&d(S?l():t),t):l()})}var h=!1,c=((n&X)!==0?G:V)(()=>(h=!1,l()));i&&b(c);var o=z;return(function(t,S){if(arguments.length>0){const P=S?b(c):i?H(t):t;return Z(c,P),h=!0,s!==void 0&&(s=P),t}return K&&h||(o.f&J)!==0?c.v:b(c)})}export{ir as b,er as i,sr as p};
