import{E as O,h as T,F as y,G as L,H as B,I as D,J as Y,K as m,M as b,O as M,P as N,t as h,Q as w,w as x,v as F,R as U,S as C,T as G,U as H,V as Z,W as $,a as q,X as z,Y as J,Z as K,_ as Q}from"./BOx2tsdW.js";import{B as V}from"./D1cooUu3.js";function k(e,n,f=!1){T&&y();var t=new V(e),u=f?L:0;function c(r,i){if(T){const _=B(e)===D;if(r===_){var s=Y();m(s),t.anchor=s,b(!1),t.ensure(r,i),b(!0);return}}t.ensure(r,i)}O(()=>{var r=!1;n((i,s=!0)=>{r=!0,c(s,i)}),r||c(!1,null)},u)}let S=!1;function W(e){var n=S;try{return S=!1,[e(),S]}finally{S=n}}function p(e,n,f,t){var u=(f&Q)!==0,c=(f&K)!==0,r=t,i=!0,s=()=>(i&&(i=!1,r=c?q(t):t),r),_;if(u){var A=H in e||Z in e;_=M(e,n)?.set??(A&&n in e?a=>e[n]=a:void 0)}var d,E=!1;u?[d,E]=W(()=>e[n]):d=e[n],d===void 0&&t!==void 0&&(d=s(),_&&(N(),_(d)));var v;if(v=()=>{var a=e[n];return a===void 0?s():(i=!0,a)},(f&z)===0)return v;if(_){var I=e.$$legacy;return(function(a,o){return arguments.length>0?((!o||I||E)&&_(o?v():a),a):v()})}var g=!1,l=((f&J)!==0?w:$)(()=>(g=!1,v()));u&&h(l);var R=U;return(function(a,o){if(arguments.length>0){const P=o?h(l):u?x(a):a;return F(l,P),g=!0,r!==void 0&&(r=P),a}return G&&g||(R.f&C)!==0?l.v:h(l)})}export{k as i,p};
